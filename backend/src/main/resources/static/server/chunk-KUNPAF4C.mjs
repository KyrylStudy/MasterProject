import './polyfills.server.mjs';
import{$ as A,A as Gt,Aa as Fe,B as Te,C as p,Ca as Xe,D as g,Da as ni,E as me,Ea as wt,F as Yt,Fa as fe,G as Kt,H as re,Ha as ri,I as z,Ia as se,J as Zt,Ja as U,K as Xt,Ka as oi,L as h,La as si,M as b,Ma as q,N as ge,Na as ai,O as _t,Oa as ci,P as De,Pa as li,Q as vt,Qa as di,R as x,Ra as hi,S as Ee,T as oe,U as _,Ua as ui,V as le,W as Ve,X as c,Y as a,Z as w,_ as O,_a as yt,a as ve,aa as y,b as $e,ba as f,c as j,ca as d,d as R,da as de,e as ht,ea as bt,f as Ht,fa as Ye,g as Ge,ga as Ke,h as Ut,ha as Ze,i as Wt,ia as qt,j as ut,ja as m,k as $t,ka as P,l as pt,la as N,m as gt,ma as D,n as mt,na as E,o as ke,oa as M,p as S,pa as be,q as ft,qa as Ct,r as V,ra as Qt,s as Y,sa as Jt,t as te,ta as ei,u as I,v as Se,va as ti,w as H,wa as ii,x as k,y as K,z as he}from"./chunk-FUVPMJOQ.mjs";import{a as pe,b as xe}from"./chunk-VVCT4QZE.mjs";function pi(r,t=0){return En(r)?Number(r):t}function En(r){return!isNaN(parseFloat(r))&&!isNaN(Number(r))}function Q(r){return r instanceof re?r.nativeElement:r}var St;try{St=typeof Intl<"u"&&Intl.v8BreakIterator}catch{St=!1}var gi=(()=>{let t=class t{constructor(e){this._platformId=e,this.isBrowser=this._platformId?si(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||St)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};t.\u0275fac=function(i){return new(i||t)(I(Zt))},t.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();var Re;function Mn(){if(Re==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Re=!0}))}finally{Re=Re||!1}return Re}function Ne(r){return Mn()?r:!!r.capture}var xt;function In(){if(xt==null){let r=typeof document<"u"?document.head:null;xt=!!(r&&(r.createShadowRoot||r.attachShadow))}return xt}function Dt(r){if(In()){let t=r.getRootNode?r.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function Le(r){return r.composedPath?r.composedPath()[0]:r.target}var On=new te("cdk-dir-doc",{providedIn:"root",factory:An});function An(){return Se(fe)}var kn=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function Tn(r){let t=r?.toLowerCase()||"";return t==="auto"&&typeof navigator<"u"&&navigator?.language?kn.test(navigator.language)?"rtl":"ltr":t==="rtl"?"rtl":"ltr"}var mi=(()=>{let t=class t{constructor(e){if(this.value="ltr",this.change=new z,e){let i=e.body?e.body.dir:null,o=e.documentElement?e.documentElement.dir:null;this.value=Tn(i||o||"ltr")}}ngOnDestroy(){this.change.complete()}};t.\u0275fac=function(i){return new(i||t)(I(On,8))},t.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();var Rn=20,fi=(()=>{let t=class t{constructor(e,i,o){this._platform=e,this._change=new j,this._changeListener=s=>{this._change.next(s)},this._document=o,i.runOutsideAngular(()=>{if(e.isBrowser){let s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){let e=this.getViewportScrollPosition(),{width:i,height:o}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+o,right:e.left+i,height:o,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let e=this._document,i=this._getWindow(),o=e.documentElement,s=o.getBoundingClientRect(),l=-s.top||e.body.scrollTop||i.scrollY||o.scrollTop||0,u=-s.left||e.body.scrollLeft||i.scrollX||o.scrollLeft||0;return{top:l,left:u}}change(e=Rn){return e>0?this._change.pipe($t(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}};t.\u0275fac=function(i){return new(i||t)(I(gi),I(Ee),I(fe,8))},t.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();var _i=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=K({type:t}),t.\u0275inj=Y({});let r=t;return r})();function vi(r){return r.buttons===0||r.detail===0}function bi(r){let t=r.touches&&r.touches[0]||r.changedTouches&&r.changedTouches[0];return!!t&&t.identifier===-1&&(t.radiusX==null||t.radiusX===1)&&(t.radiusY==null||t.radiusY===1)}function kt(r,t,n){for(let e in t)if(t.hasOwnProperty(e)){let i=t[e];i?r.setProperty(e,i,n?.has(e)?"important":""):r.removeProperty(e)}return r}function Me(r,t){let n=t?"":"none";kt(r.style,{"touch-action":t?"":"none","-webkit-user-drag":t?"":"none","-webkit-tap-highlight-color":t?"":"transparent","user-select":n,"-ms-user-select":n,"-webkit-user-select":n,"-moz-user-select":n})}function Ci(r,t,n){kt(r.style,{position:t?"":"fixed",top:t?"":"0",opacity:t?"":"0",left:t?"":"-999em"},n)}function et(r,t){return t&&t!="none"?r+" "+t:r}function wi(r,t){r.style.width=`${t.width}px`,r.style.height=`${t.height}px`,r.style.transform=tt(t.left,t.top)}function tt(r,t){return`translate3d(${Math.round(r)}px, ${Math.round(t)}px, 0)`}function Tt(r){let t=r.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height,x:t.x,y:t.y}}function Mt(r,t,n){let{top:e,bottom:i,left:o,right:s}=r;return n>=e&&n<=i&&t>=o&&t<=s}function Be(r,t,n){r.top+=t,r.bottom=r.top+r.height,r.left+=n,r.right=r.left+r.width}function yi(r,t,n,e){let{top:i,right:o,bottom:s,left:l,width:u,height:v}=r,C=u*t,L=v*t;return e>i-L&&e<s+L&&n>l-C&&n<o+C}var it=class{constructor(t){this._document=t,this.positions=new Map}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),t.forEach(n=>{this.positions.set(n,{scrollPosition:{top:n.scrollTop,left:n.scrollLeft},clientRect:Tt(n)})})}handleScroll(t){let n=Le(t),e=this.positions.get(n);if(!e)return null;let i=e.scrollPosition,o,s;if(n===this._document){let v=this.getViewportScrollPosition();o=v.top,s=v.left}else o=n.scrollTop,s=n.scrollLeft;let l=i.top-o,u=i.left-s;return this.positions.forEach((v,C)=>{v.clientRect&&n!==C&&n.contains(C)&&Be(v.clientRect,l,u)}),i.top=o,i.left=s,{top:l,left:u}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}};function Fi(r){let t=r.cloneNode(!0),n=t.querySelectorAll("[id]"),e=r.nodeName.toLowerCase();t.removeAttribute("id");for(let i=0;i<n.length;i++)n[i].removeAttribute("id");return e==="canvas"?Di(r,t):(e==="input"||e==="select"||e==="textarea")&&Si(r,t),xi("canvas",r,t,Di),xi("input, textarea, select",r,t,Si),t}function xi(r,t,n,e){let i=t.querySelectorAll(r);if(i.length){let o=n.querySelectorAll(r);for(let s=0;s<i.length;s++)e(i[s],o[s])}}var Ln=0;function Si(r,t){t.type!=="file"&&(t.value=r.value),t.type==="radio"&&t.name&&(t.name=`mat-clone-${t.name}-${Ln++}`)}function Di(r,t){let n=t.getContext("2d");if(n)try{n.drawImage(r,0,0)}catch{}}function Ri(r,t){let n=r.rootNodes;if(n.length===1&&n[0].nodeType===t.ELEMENT_NODE)return n[0];let e=t.createElement("div");return n.forEach(i=>e.appendChild(i)),e}function Ei(r){let t=r.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(r)*t}function jn(r){let t=getComputedStyle(r),n=Et(t,"transition-property"),e=n.find(l=>l==="transform"||l==="all");if(!e)return 0;let i=n.indexOf(e),o=Et(t,"transition-duration"),s=Et(t,"transition-delay");return Ei(o[i])+Ei(s[i])}function Et(r,t){return r.getPropertyValue(t).split(",").map(e=>e.trim())}var Bn=new Set(["position"]),It=class{constructor(t,n,e,i,o,s,l,u,v){this._document=t,this._rootElement=n,this._direction=e,this._initialDomRect=i,this._previewTemplate=o,this._previewClass=s,this._pickupPositionOnPage=l,this._initialTransform=u,this._zIndex=v}attach(t){this._preview=this._createPreview(),t.appendChild(this._preview),"showPopover"in this._preview&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(t){this._preview.style.transform=t}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(t){this._preview.classList.add(t)}getTransitionDuration(){return jn(this._preview)}addEventListener(t,n){this._preview.addEventListener(t,n)}removeEventListener(t,n){this._preview.removeEventListener(t,n)}_createPreview(){let t=this._previewTemplate,n=this._previewClass,e=t?t.template:null,i;if(e&&t){let o=t.matchSize?this._initialDomRect:null,s=t.viewContainer.createEmbeddedView(e,t.context);s.detectChanges(),i=Ri(s,this._document),this._previewEmbeddedView=s,t.matchSize?wi(i,o):i.style.transform=tt(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else i=Fi(this._rootElement),wi(i,this._initialDomRect),this._initialTransform&&(i.style.transform=this._initialTransform);return kt(i.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},Bn),Me(i,!1),i.classList.add("cdk-drag-preview"),i.setAttribute("popover","manual"),i.setAttribute("dir",this._direction),n&&(Array.isArray(n)?n.forEach(o=>i.classList.add(o)):i.classList.add(n)),i}},Mi=Ne({passive:!0}),qe=Ne({passive:!1}),Ii=Ne({passive:!1,capture:!0}),zn=800,Pi=new Set(["position"]),Pt=class{get disabled(){return this._disabled||!!(this._dropContainer&&this._dropContainer.disabled)}set disabled(t){t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions(),this._handles.forEach(n=>Me(n,t)))}constructor(t,n,e,i,o,s){this._config=n,this._document=e,this._ngZone=i,this._viewportRuler=o,this._dragDropRegistry=s,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new j,this._pointerMoveSubscription=ve.EMPTY,this._pointerUpSubscription=ve.EMPTY,this._scrollSubscription=ve.EMPTY,this._resizeSubscription=ve.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new j,this.started=new j,this.released=new j,this.ended=new j,this.entered=new j,this.exited=new j,this.dropped=new j,this.moved=this._moveEvents,this._pointerDown=l=>{if(this.beforeStarted.next(),this._handles.length){let u=this._getTargetHandle(l);u&&!this._disabledHandles.has(u)&&!this.disabled&&this._initializeDragSequence(u,l)}else this.disabled||this._initializeDragSequence(this._rootElement,l)},this._pointerMove=l=>{let u=this._getPointerPositionOnPage(l);if(!this._hasStartedDragging){let C=Math.abs(u.x-this._pickupPositionOnPage.x),L=Math.abs(u.y-this._pickupPositionOnPage.y);if(C+L>=this._config.dragStartThreshold){let ie=Date.now()>=this._dragStartTime+this._getDragStartDelay(l),ne=this._dropContainer;if(!ie){this._endDragSequence(l);return}(!ne||!ne.isDragging()&&!ne.isReceiving())&&(l.cancelable&&l.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(l)))}return}l.cancelable&&l.preventDefault();let v=this._getConstrainedPointerPosition(u);if(this._hasMoved=!0,this._lastKnownPointerPosition=u,this._updatePointerDirectionDelta(v),this._dropContainer)this._updateActiveDropContainer(v,u);else{let C=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,L=this._activeTransform;L.x=v.x-C.x+this._passiveTransform.x,L.y=v.y-C.y+this._passiveTransform.y,this._applyRootElementTransform(L.x,L.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:v,event:l,distance:this._getDragDistance(v),delta:this._pointerDirectionDelta})})},this._pointerUp=l=>{this._endDragSequence(l)},this._nativeDragStart=l=>{if(this._handles.length){let u=this._getTargetHandle(l);u&&!this._disabledHandles.has(u)&&!this.disabled&&l.preventDefault()}else this.disabled||l.preventDefault()},this.withRootElement(t).withParent(n.parentDragRef||null),this._parentPositions=new it(e),s.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){this._handles=t.map(e=>Q(e)),this._handles.forEach(e=>Me(e,this.disabled)),this._toggleNativeDragInteractions();let n=new Set;return this._disabledHandles.forEach(e=>{this._handles.indexOf(e)>-1&&n.add(e)}),this._disabledHandles=n,this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){let n=Q(t);return n!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{n.addEventListener("mousedown",this._pointerDown,qe),n.addEventListener("touchstart",this._pointerDown,Mi),n.addEventListener("dragstart",this._nativeDragStart,qe)}),this._initialTransform=void 0,this._rootElement=n),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?Q(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(t){return this._parentDragRef=t,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),Me(t,!0))}enableHandle(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),Me(t,this.disabled))}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){let t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}withPreviewContainer(t){return this._previewContainer=t,this}_sortFromLastPointerPosition(){let t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._getShadowRoot()?.removeEventListener("selectstart",Ai,Ii)}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),!!this._hasStartedDragging))if(this.released.next({source:this,event:t}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;let n=this._getPointerPositionOnPage(t);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(n),dropPoint:n,event:t})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(t){je(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();let n=this._getShadowRoot(),e=this._dropContainer;if(n&&this._ngZone.runOutsideAngular(()=>{n.addEventListener("selectstart",Ai,Ii)}),e){let i=this._rootElement,o=i.parentNode,s=this._placeholder=this._createPlaceholderElement(),l=this._anchor=this._anchor||this._document.createComment("");o.insertBefore(l,i),this._initialTransform=i.style.transform||"",this._preview=new It(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3),this._preview.attach(this._getPreviewInsertionPoint(o,n)),Ci(i,!1,Pi),this._document.body.appendChild(o.replaceChild(s,i)),this.started.next({source:this,event:t}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this,event:t}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(t,n){this._parentDragRef&&n.stopPropagation();let e=this.isDragging(),i=je(n),o=!i&&n.button!==0,s=this._rootElement,l=Le(n),u=!i&&this._lastTouchEventTime&&this._lastTouchEventTime+zn>Date.now(),v=i?bi(n):vi(n);if(l&&l.draggable&&n.type==="mousedown"&&n.preventDefault(),e||o||u||v)return;if(this._handles.length){let G=s.style;this._rootElementTapHighlight=G.webkitTapHighlightColor||"",G.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(G=>this._updateOnScroll(G)),this._boundaryElement&&(this._boundaryRect=Tt(this._boundaryElement));let C=this._previewTemplate;this._pickupPositionInElement=C&&C.template&&!C.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,t,n);let L=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(n);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:L.x,y:L.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,n)}_cleanupDragArtifacts(t){Ci(this._rootElement,!0,Pi),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{let n=this._dropContainer,e=n.getItemIndex(this),i=this._getPointerPositionOnPage(t),o=this._getDragDistance(i),s=n._isOverContainer(i.x,i.y);this.ended.next({source:this,distance:o,dropPoint:i,event:t}),this.dropped.next({item:this,currentIndex:e,previousIndex:this._initialIndex,container:n,previousContainer:this._initialContainer,isPointerOverContainer:s,distance:o,dropPoint:i,event:t}),n.drop(this,e,this._initialIndex,this._initialContainer,s,o,i,t),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:n},{x:e,y:i}){let o=this._initialContainer._getSiblingContainerFromPosition(this,t,n);!o&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,n)&&(o=this._initialContainer),o&&o!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=o,this._dropContainer.enter(this,t,n,o===this._initialContainer&&o.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:o,currentIndex:o.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(e,i),this._dropContainer._sortItem(this,t,n,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(t,n):this._applyPreviewTransform(t-this._pickupPositionInElement.x,n-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();let t=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(t.left,t.top);let n=this._preview.getTransitionDuration();return n===0?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(e=>{let i=s=>{(!s||Le(s)===this._preview&&s.propertyName==="transform")&&(this._preview?.removeEventListener("transitionend",i),e(),clearTimeout(o))},o=setTimeout(i,n*1.5);this._preview.addEventListener("transitionend",i)}))}_createPlaceholderElement(){let t=this._placeholderTemplate,n=t?t.template:null,e;return n?(this._placeholderRef=t.viewContainer.createEmbeddedView(n,t.context),this._placeholderRef.detectChanges(),e=Ri(this._placeholderRef,this._document)):e=Fi(this._rootElement),e.style.pointerEvents="none",e.classList.add("cdk-drag-placeholder"),e}_getPointerPositionInElement(t,n,e){let i=n===this._rootElement?null:n,o=i?i.getBoundingClientRect():t,s=je(e)?e.targetTouches[0]:e,l=this._getViewportScrollPosition(),u=s.pageX-o.left-l.left,v=s.pageY-o.top-l.top;return{x:o.left-t.left+u,y:o.top-t.top+v}}_getPointerPositionOnPage(t){let n=this._getViewportScrollPosition(),e=je(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,i=e.pageX-n.left,o=e.pageY-n.top;if(this._ownerSVGElement){let s=this._ownerSVGElement.getScreenCTM();if(s){let l=this._ownerSVGElement.createSVGPoint();return l.x=i,l.y=o,l.matrixTransform(s.inverse())}}return{x:i,y:o}}_getConstrainedPointerPosition(t){let n=this._dropContainer?this._dropContainer.lockAxis:null,{x:e,y:i}=this.constrainPosition?this.constrainPosition(t,this,this._initialDomRect,this._pickupPositionInElement):t;if(this.lockAxis==="x"||n==="x"?i=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):(this.lockAxis==="y"||n==="y")&&(e=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){let{x:o,y:s}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,l=this._boundaryRect,{width:u,height:v}=this._getPreviewRect(),C=l.top+s,L=l.bottom-(v-s),G=l.left+o,ie=l.right-(u-o);e=Oi(e,G,ie),i=Oi(i,C,L)}return{x:e,y:i}}_updatePointerDirectionDelta(t){let{x:n,y:e}=t,i=this._pointerDirectionDelta,o=this._pointerPositionAtLastDirectionChange,s=Math.abs(n-o.x),l=Math.abs(e-o.y);return s>this._config.pointerDirectionChangeThreshold&&(i.x=n>o.x?1:-1,o.x=n),l>this._config.pointerDirectionChangeThreshold&&(i.y=e>o.y?1:-1,o.y=e),i}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;let t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,Me(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,qe),t.removeEventListener("touchstart",this._pointerDown,Mi),t.removeEventListener("dragstart",this._nativeDragStart,qe)}_applyRootElementTransform(t,n){let e=tt(t,n),i=this._rootElement.style;this._initialTransform==null&&(this._initialTransform=i.transform&&i.transform!="none"?i.transform:""),i.transform=et(e,this._initialTransform)}_applyPreviewTransform(t,n){let e=this._previewTemplate?.template?void 0:this._initialTransform,i=tt(t,n);this._preview.setTransform(et(i,e))}_getDragDistance(t){let n=this._pickupPositionOnPage;return n?{x:t.x-n.x,y:t.y-n.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:n}=this._passiveTransform;if(t===0&&n===0||this.isDragging()||!this._boundaryElement)return;let e=this._rootElement.getBoundingClientRect(),i=this._boundaryElement.getBoundingClientRect();if(i.width===0&&i.height===0||e.width===0&&e.height===0)return;let o=i.left-e.left,s=e.right-i.right,l=i.top-e.top,u=e.bottom-i.bottom;i.width>e.width?(o>0&&(t+=o),s>0&&(t-=s)):t=0,i.height>e.height?(l>0&&(n+=l),u>0&&(n-=u)):n=0,(t!==this._passiveTransform.x||n!==this._passiveTransform.y)&&this.setFreeDragPosition({y:n,x:t})}_getDragStartDelay(t){let n=this.dragStartDelay;return typeof n=="number"?n:je(t)?n.touch:n?n.mouse:0}_updateOnScroll(t){let n=this._parentPositions.handleScroll(t);if(n){let e=Le(t);this._boundaryRect&&e!==this._boundaryElement&&e.contains(this._boundaryElement)&&Be(this._boundaryRect,n.top,n.left),this._pickupPositionOnPage.x+=n.left,this._pickupPositionOnPage.y+=n.top,this._dropContainer||(this._activeTransform.x-=n.left,this._activeTransform.y-=n.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return this._cachedShadowRoot===void 0&&(this._cachedShadowRoot=Dt(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(t,n){let e=this._previewContainer||"global";if(e==="parent")return t;if(e==="global"){let i=this._document;return n||i.fullscreenElement||i.webkitFullscreenElement||i.mozFullScreenElement||i.msFullscreenElement||i.body}return Q(e)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_getTargetHandle(t){return this._handles.find(n=>t.target&&(t.target===n||n.contains(t.target)))}};function Oi(r,t,n){return Math.max(t,Math.min(n,r))}function je(r){return r.type[0]==="t"}function Ai(r){r.preventDefault()}function Hn(r,t,n){let e=ki(t,r.length-1),i=ki(n,r.length-1);if(e===i)return;let o=r[e],s=i<e?-1:1;for(let l=e;l!==i;l+=s)r[l]=r[l+s];r[i]=o}function ki(r,t){return Math.max(0,Math.min(t,r))}var Ot=class{constructor(t,n){this._element=t,this._dragDropRegistry=n,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(t){this.withItems(t)}sort(t,n,e,i){let o=this._itemPositions,s=this._getItemIndexFromPointerPosition(t,n,e,i);if(s===-1&&o.length>0)return null;let l=this.orientation==="horizontal",u=o.findIndex(B=>B.drag===t),v=o[s],C=o[u].clientRect,L=v.clientRect,G=u>s?1:-1,ie=this._getItemOffsetPx(C,L,G),ne=this._getSiblingOffsetPx(u,o,G),F=o.slice();return Hn(o,u,s),o.forEach((B,Ae)=>{if(F[Ae]===B)return;let Bt=B.drag===t,dt=Bt?ie:ne,zt=Bt?t.getPlaceholderElement():B.drag.getRootElement();B.offset+=dt,l?(zt.style.transform=et(`translate3d(${Math.round(B.offset)}px, 0, 0)`,B.initialTransform),Be(B.clientRect,0,dt)):(zt.style.transform=et(`translate3d(0, ${Math.round(B.offset)}px, 0)`,B.initialTransform),Be(B.clientRect,dt,0))}),this._previousSwap.overlaps=Mt(L,n,e),this._previousSwap.drag=v.drag,this._previousSwap.delta=l?i.x:i.y,{previousIndex:u,currentIndex:s}}enter(t,n,e,i){let o=i==null||i<0?this._getItemIndexFromPointerPosition(t,n,e):i,s=this._activeDraggables,l=s.indexOf(t),u=t.getPlaceholderElement(),v=s[o];if(v===t&&(v=s[o+1]),!v&&(o==null||o===-1||o<s.length-1)&&this._shouldEnterAsFirstChild(n,e)&&(v=s[0]),l>-1&&s.splice(l,1),v&&!this._dragDropRegistry.isDragging(v)){let C=v.getRootElement();C.parentElement.insertBefore(u,C),s.splice(o,0,t)}else Q(this._element).appendChild(u),s.push(t);u.style.transform="",this._cacheItemPositions()}withItems(t){this._activeDraggables=t.slice(),this._cacheItemPositions()}withSortPredicate(t){this._sortPredicate=t}reset(){this._activeDraggables.forEach(t=>{let n=t.getRootElement();if(n){let e=this._itemPositions.find(i=>i.drag===t)?.initialTransform;n.style.transform=e||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(t){return(this.orientation==="horizontal"&&this.direction==="rtl"?this._itemPositions.slice().reverse():this._itemPositions).findIndex(e=>e.drag===t)}updateOnScroll(t,n){this._itemPositions.forEach(({clientRect:e})=>{Be(e,t,n)}),this._itemPositions.forEach(({drag:e})=>{this._dragDropRegistry.isDragging(e)&&e._sortFromLastPointerPosition()})}_cacheItemPositions(){let t=this.orientation==="horizontal";this._itemPositions=this._activeDraggables.map(n=>{let e=n.getVisibleElement();return{drag:n,offset:0,initialTransform:e.style.transform||"",clientRect:Tt(e)}}).sort((n,e)=>t?n.clientRect.left-e.clientRect.left:n.clientRect.top-e.clientRect.top)}_getItemOffsetPx(t,n,e){let i=this.orientation==="horizontal",o=i?n.left-t.left:n.top-t.top;return e===-1&&(o+=i?n.width-t.width:n.height-t.height),o}_getSiblingOffsetPx(t,n,e){let i=this.orientation==="horizontal",o=n[t].clientRect,s=n[t+e*-1],l=o[i?"width":"height"]*e;if(s){let u=i?"left":"top",v=i?"right":"bottom";e===-1?l-=s.clientRect[u]-o[v]:l+=o[u]-s.clientRect[v]}return l}_shouldEnterAsFirstChild(t,n){if(!this._activeDraggables.length)return!1;let e=this._itemPositions,i=this.orientation==="horizontal";if(e[0].drag!==this._activeDraggables[0]){let s=e[e.length-1].clientRect;return i?t>=s.right:n>=s.bottom}else{let s=e[0].clientRect;return i?t<=s.left:n<=s.top}}_getItemIndexFromPointerPosition(t,n,e,i){let o=this.orientation==="horizontal",s=this._itemPositions.findIndex(({drag:l,clientRect:u})=>{if(l===t)return!1;if(i){let v=o?i.x:i.y;if(l===this._previousSwap.drag&&this._previousSwap.overlaps&&v===this._previousSwap.delta)return!1}return o?n>=Math.floor(u.left)&&n<Math.floor(u.right):e>=Math.floor(u.top)&&e<Math.floor(u.bottom)});return s===-1||!this._sortPredicate(s,t)?-1:s}},Ti=.05,Ni=.05,ae=function(r){return r[r.NONE=0]="NONE",r[r.UP=1]="UP",r[r.DOWN=2]="DOWN",r}(ae||{}),Z=function(r){return r[r.NONE=0]="NONE",r[r.LEFT=1]="LEFT",r[r.RIGHT=2]="RIGHT",r}(Z||{}),At=class{constructor(t,n,e,i,o){this._dragDropRegistry=n,this._ngZone=i,this._viewportRuler=o,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new j,this.entered=new j,this.exited=new j,this.dropped=new j,this.sorted=new j,this.receivingStarted=new j,this.receivingStopped=new j,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=ve.EMPTY,this._verticalScrollDirection=ae.NONE,this._horizontalScrollDirection=Z.NONE,this._stopScrollTimers=new j,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),Wt(0,ht).pipe(ke(this._stopScrollTimers)).subscribe(()=>{let s=this._scrollNode,l=this.autoScrollStep;this._verticalScrollDirection===ae.UP?s.scrollBy(0,-l):this._verticalScrollDirection===ae.DOWN&&s.scrollBy(0,l),this._horizontalScrollDirection===Z.LEFT?s.scrollBy(-l,0):this._horizontalScrollDirection===Z.RIGHT&&s.scrollBy(l,0)})},this.element=Q(t),this._document=e,this.withScrollableParents([this.element]),n.registerDropContainer(this),this._parentPositions=new it(e),this._sortStrategy=new Ot(this.element,n),this._sortStrategy.withSortPredicate((s,l)=>this.sortPredicate(s,l,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(t,n,e,i){this._draggingStarted(),i==null&&this.sortingDisabled&&(i=this._draggables.indexOf(t)),this._sortStrategy.enter(t,n,e,i),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,n,e,i,o,s,l,u={}){this._reset(),this.dropped.next({item:t,currentIndex:n,previousIndex:e,container:this,previousContainer:i,isPointerOverContainer:o,distance:s,dropPoint:l,event:u})}withItems(t){let n=this._draggables;return this._draggables=t,t.forEach(e=>e._withDropContainer(this)),this.isDragging()&&(n.filter(i=>i.isDragging()).every(i=>t.indexOf(i)===-1)?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(t){return this._sortStrategy.direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._sortStrategy.orientation=t,this}withScrollableParents(t){let n=Q(this.element);return this._scrollableElements=t.indexOf(n)===-1?[n,...t]:t.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?this._sortStrategy.getItemIndex(t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,n,e,i){if(this.sortingDisabled||!this._domRect||!yi(this._domRect,Ti,n,e))return;let o=this._sortStrategy.sort(t,n,e,i);o&&this.sorted.next({previousIndex:o.previousIndex,currentIndex:o.currentIndex,container:this,item:t})}_startScrollingIfNecessary(t,n){if(this.autoScrollDisabled)return;let e,i=ae.NONE,o=Z.NONE;if(this._parentPositions.positions.forEach((s,l)=>{l===this._document||!s.clientRect||e||yi(s.clientRect,Ti,t,n)&&([i,o]=Un(l,s.clientRect,this._sortStrategy.direction,t,n),(i||o)&&(e=l))}),!i&&!o){let{width:s,height:l}=this._viewportRuler.getViewportSize(),u={width:s,height:l,top:0,right:s,bottom:l,left:0};i=Li(u,n),o=ji(u,t),e=window}e&&(i!==this._verticalScrollDirection||o!==this._horizontalScrollDirection||e!==this._scrollNode)&&(this._verticalScrollDirection=i,this._horizontalScrollDirection=o,this._scrollNode=e,(i||o)&&e?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){let t=Q(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){let t=Q(this.element);this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(t).clientRect}_reset(){this._isDragging=!1;let t=Q(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(n=>n._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(t,n){return this._domRect!=null&&Mt(this._domRect,t,n)}_getSiblingContainerFromPosition(t,n,e){return this._siblings.find(i=>i._canReceive(t,n,e))}_canReceive(t,n,e){if(!this._domRect||!Mt(this._domRect,n,e)||!this.enterPredicate(t,this))return!1;let i=this._getShadowRoot().elementFromPoint(n,e);if(!i)return!1;let o=Q(this.element);return i===o||o.contains(i)}_startReceiving(t,n){let e=this._activeSiblings;!e.has(t)&&n.every(i=>this.enterPredicate(i,this)||this._draggables.indexOf(i)>-1)&&(e.add(t),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:t,receiver:this,items:n}))}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:t,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(t=>{if(this.isDragging()){let n=this._parentPositions.handleScroll(t);n&&this._sortStrategy.updateOnScroll(n.top,n.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){let t=Dt(Q(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){let t=this._sortStrategy.getActiveItemsSnapshot().filter(n=>n.isDragging());this._siblings.forEach(n=>n._startReceiving(this,t))}};function Li(r,t){let{top:n,bottom:e,height:i}=r,o=i*Ni;return t>=n-o&&t<=n+o?ae.UP:t>=e-o&&t<=e+o?ae.DOWN:ae.NONE}function ji(r,t){let{left:n,right:e,width:i}=r,o=i*Ni;return t>=n-o&&t<=n+o?Z.LEFT:t>=e-o&&t<=e+o?Z.RIGHT:Z.NONE}function Un(r,t,n,e,i){let o=Li(t,i),s=ji(t,e),l=ae.NONE,u=Z.NONE;if(o){let v=r.scrollTop;o===ae.UP?v>0&&(l=ae.UP):r.scrollHeight-v>r.clientHeight&&(l=ae.DOWN)}if(s){let v=r.scrollLeft;n==="rtl"?s===Z.RIGHT?v<0&&(u=Z.RIGHT):r.scrollWidth+v>r.clientWidth&&(u=Z.LEFT):s===Z.LEFT?v>0&&(u=Z.LEFT):r.scrollWidth-v>r.clientWidth&&(u=Z.RIGHT)}return[l,u]}var Qe=Ne({passive:!1,capture:!0}),Wn=(()=>{let t=class t{constructor(e,i){this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=o=>o.isDragging(),this.pointerMove=new j,this.pointerUp=new j,this.scroll=new j,this._preventDefaultWhileDragging=o=>{this._activeDragInstances.length>0&&o.preventDefault()},this._persistentTouchmoveListener=o=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&o.preventDefault(),this.pointerMove.next(o))},this._document=i}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),this._dragInstances.size===1&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Qe)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),this._dragInstances.size===0&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Qe)}startDragging(e,i){if(!(this._activeDragInstances.indexOf(e)>-1)&&(this._activeDragInstances.push(e),this._activeDragInstances.length===1)){let o=i.type.startsWith("touch");this._globalListeners.set(o?"touchend":"mouseup",{handler:s=>this.pointerUp.next(s),options:!0}).set("scroll",{handler:s=>this.scroll.next(s),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Qe}),o||this._globalListeners.set("mousemove",{handler:s=>this.pointerMove.next(s),options:Qe}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((s,l)=>{this._document.addEventListener(l,s.handler,s.options)})})}}stopDragging(e){let i=this._activeDragInstances.indexOf(e);i>-1&&(this._activeDragInstances.splice(i,1),this._activeDragInstances.length===0&&this._clearGlobalListeners())}isDragging(e){return this._activeDragInstances.indexOf(e)>-1}scrolled(e){let i=[this.scroll];return e&&e!==this._document&&i.push(new $e(o=>this._ngZone.runOutsideAngular(()=>{let l=u=>{this._activeDragInstances.length&&o.next(u)};return e.addEventListener("scroll",l,!0),()=>{e.removeEventListener("scroll",l,!0)}}))),ut(...i)}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((e,i)=>{this._document.removeEventListener(i,e.handler,e.options)}),this._globalListeners.clear()}};t.\u0275fac=function(i){return new(i||t)(I(Ee),I(fe))},t.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})(),$n={dragStartThreshold:5,pointerDirectionChangeThreshold:5},Je=new Set,Gn=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=k({type:t,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],standalone:!0,features:[Ct],decls:0,vars:0,template:function(i,o){},styles:["@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit}}"],encapsulation:2,changeDetection:0});let r=t;return r})(),Bi=(()=>{let t=class t{constructor(e,i,o,s){this._document=e,this._ngZone=i,this._viewportRuler=o,this._dragDropRegistry=s,this._appRef=Se(ii),this._environmentInjector=Se(Gt)}createDrag(e,i=$n){return this._loadResets(),new Pt(e,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(e){return new At(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}_loadResets(){if(!Je.has(this._appRef)){Je.add(this._appRef);let e=ni(Gn,{environmentInjector:this._environmentInjector});this._appRef.onDestroy(()=>{Je.delete(this._appRef),Je.size===0&&e.destroy()})}}};t.\u0275fac=function(i){return new(i||t)(I(fe),I(Ee),I(fi),I(Wn))},t.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})(),Vi=new te("CDK_DRAG_PARENT");var Yn=new te("CdkDragHandle");var Kn=new te("CDK_DRAG_CONFIG"),Zn="cdk-drag",Xn=new te("CdkDropList"),nt=(()=>{let t=class t{get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(e){this._disabled=e,this._dragRef.disabled=this._disabled}constructor(e,i,o,s,l,u,v,C,L,G,ie){this.element=e,this.dropContainer=i,this._ngZone=s,this._viewContainerRef=l,this._dir=v,this._changeDetectorRef=L,this._selfHandle=G,this._parentDrag=ie,this._destroyed=new j,this._handles=new R([]),this.started=new z,this.released=new z,this.ended=new z,this.entered=new z,this.exited=new z,this.dropped=new z,this.moved=new $e(ne=>{let F=this._dragRef.moved.pipe(Ge(B=>({source:this,pointerPosition:B.pointerPosition,event:B.event,delta:B.delta,distance:B.distance}))).subscribe(ne);return()=>{F.unsubscribe()}}),this._dragRef=C.createDrag(e,{dragStartThreshold:u&&u.dragStartThreshold!=null?u.dragStartThreshold:5,pointerDirectionChangeThreshold:u&&u.pointerDirectionChangeThreshold!=null?u.pointerDirectionChangeThreshold:5,zIndex:u?.zIndex}),this._dragRef.data=this,t._dragInstances.push(this),u&&this._assignDefaults(u),i&&(this._dragRef._withDropContainer(i._dropListRef),i.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(e){this._dragRef.setFreeDragPosition(e)}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(pt(1),ke(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(e){let i=e.rootElementSelector,o=e.freeDragPosition;i&&!i.firstChange&&this._updateRootElement(),o&&!o.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);let e=t._dragInstances.indexOf(this);e>-1&&t._dragInstances.splice(e,1),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(e){let i=this._handles.getValue();i.push(e),this._handles.next(i)}_removeHandle(e){let i=this._handles.getValue(),o=i.indexOf(e);o>-1&&(i.splice(o,1),this._handles.next(i))}_setPreviewTemplate(e){this._previewTemplate=e}_resetPreviewTemplate(e){e===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(e){this._placeholderTemplate=e}_resetPlaceholderTemplate(e){e===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){let e=this.element.nativeElement,i=e;this.rootElementSelector&&(i=e.closest!==void 0?e.closest(this.rootElementSelector):e.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(i||e)}_getBoundaryElement(){let e=this.boundaryElement;return e?typeof e=="string"?this.element.nativeElement.closest(e):Q(e):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){let i=this._dir,o=this.dragStartDelay,s=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,l=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.dragStartDelay=typeof o=="object"&&o?o:pi(o),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(s).withPreviewTemplate(l).withPreviewContainer(this.previewContainer||"global"),i&&e.withDirection(i.value)}}),e.beforeStarted.pipe(pt(1)).subscribe(()=>{if(this._parentDrag){e.withParent(this._parentDrag._dragRef);return}let i=this.element.nativeElement.parentElement;for(;i;){if(i.classList.contains(Zn)){e.withParent(t._dragInstances.find(o=>o.element.nativeElement===i)?._dragRef||null);break}i=i.parentElement}})}_handleEvents(e){e.started.subscribe(i=>{this.started.emit({source:this,event:i.event}),this._changeDetectorRef.markForCheck()}),e.released.subscribe(i=>{this.released.emit({source:this,event:i.event})}),e.ended.subscribe(i=>{this.ended.emit({source:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(i=>{this.entered.emit({container:i.container.data,item:this,currentIndex:i.currentIndex})}),e.exited.subscribe(i=>{this.exited.emit({container:i.container.data,item:this})}),e.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,isPointerOverContainer:i.isPointerOverContainer,item:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event})})}_assignDefaults(e){let{lockAxis:i,dragStartDelay:o,constrainPosition:s,previewClass:l,boundaryElement:u,draggingDisabled:v,rootElementSelector:C,previewContainer:L}=e;this.disabled=v??!1,this.dragStartDelay=o||0,i&&(this.lockAxis=i),s&&(this.constrainPosition=s),l&&(this.previewClass=l),u&&(this.boundaryElement=u),C&&(this.rootElementSelector=C),L&&(this.previewContainer=L)}_setupHandlesListener(){this._handles.pipe(S(e=>{let i=e.map(o=>o.element);this._selfHandle&&this.rootElementSelector&&i.push(this.element),this._dragRef.withHandles(i)}),mt(e=>ut(...e.map(i=>i._stateChanges.pipe(gt(i))))),ke(this._destroyed)).subscribe(e=>{let i=this._dragRef,o=e.element.nativeElement;e.disabled?i.disableHandle(o):i.enableHandle(o)})}};t._dragInstances=[],t.\u0275fac=function(i){return new(i||t)(b(re),b(Xn,12),b(fe),b(Ee),b(_t),b(Kn,8),b(mi,8),b(Bi),b(Fe),b(Yn,10),b(Vi,12))},t.\u0275dir=he({type:t,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(i,o){i&2&&Ve("cdk-drag-disabled",o.disabled)("cdk-drag-dragging",o._dragRef.isDragging())},inputs:{data:[H.None,"cdkDragData","data"],lockAxis:[H.None,"cdkDragLockAxis","lockAxis"],rootElementSelector:[H.None,"cdkDragRootElement","rootElementSelector"],boundaryElement:[H.None,"cdkDragBoundary","boundaryElement"],dragStartDelay:[H.None,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[H.None,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[H.HasDecoratorInputTransform,"cdkDragDisabled","disabled",Xe],constrainPosition:[H.None,"cdkDragConstrainPosition","constrainPosition"],previewClass:[H.None,"cdkDragPreviewClass","previewClass"],previewContainer:[H.None,"cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],standalone:!0,features:[be([{provide:Vi,useExisting:t}]),vt,Te]});let r=t;return r})();var zi=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=K({type:t}),t.\u0275inj=Y({providers:[Bi],imports:[_i]});let r=t;return r})();var qn=[],Ui=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=K({type:t}),t.\u0275inj=Y({imports:[yt.forRoot(qn),yt]});let r=t;return r})();var Wi=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=k({type:t,selectors:[["app-footer"]],decls:0,vars:0,template:function(i,o){}});let r=t;return r})();var Vt={id:0,name:"Select Architecture",type:"Architecture",description:"Welcome Architecture Description"};var W=(()=>{let t=class t{constructor(e){this.httpClient=e,this.selectedArchitectureSubject=new R(Vt),this.selectedArchitecture$=this.selectedArchitectureSubject.asObservable(),this.architecturesSubject=new R([]),this.architectures$=this.architecturesSubject.asObservable(),this.baseArchitectureUrl="http://localhost:8080/api/architecture"}setSelectedArchitecture(e){this.selectedArchitectureSubject.next(e)}getSelectedArchitecture(){return this.selectedArchitecture$}loadAllArchitectures(){this.httpClient.get(`${this.baseArchitectureUrl}`).pipe(S(e=>this.architecturesSubject.next(e))).subscribe()}loadArchitecture(e){this.httpClient.get(`${this.baseArchitectureUrl+"/"+e}`).pipe(S(i=>this.selectedArchitectureSubject.next(i))).subscribe()}createArchitecture(e){this.httpClient.post(`${this.baseArchitectureUrl}`,e).pipe(S(()=>this.loadAllArchitectures())).subscribe()}updateArchitecture(e,i){this.httpClient.put(`${this.baseArchitectureUrl+"/"+i+"/update"}`,e).pipe(S(()=>this.loadAllArchitectures())).subscribe()}deleteArchitecture(e){this.httpClient.delete(`${this.baseArchitectureUrl+"/"+e+"/delete"}`).pipe(S(()=>{this.selectedArchitectureSubject.next(Vt),this.loadAllArchitectures()})).subscribe()}};t.\u0275fac=function(i){return new(i||t)(I(q))},t.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();var J=(()=>{let t=class t{constructor(e,i){this.httpClient=e,this.architectureService=i,this.selectedArchitecture=null,this.selectedHardwareSubject=new R(null),this.selectedHardware$=this.selectedHardwareSubject.asObservable(),this.hardwaresSubject=new R([]),this.hardwares$=this.hardwaresSubject.asObservable(),this.baseHardwareUrl="http://localhost:8080/api/ecus/"}setSelectedHardware(e){this.selectedHardwareSubject.next(e)}getSelectedHardware(){return this.selectedHardware$}loadAllHardwares(e){let i=this.httpClient.get(`${this.baseHardwareUrl+"architecture/"+e}`);return i.pipe(S(o=>this.hardwaresSubject.next(o))).subscribe(),i}updateHardware(e,i){this.httpClient.put(`${this.baseHardwareUrl+i+"/update"}`,e).pipe(S(()=>{this.architectureService.getSelectedArchitecture().subscribe(o=>{this.selectedArchitecture=o}),this.selectedArchitecture&&this.loadAllHardwares(this.selectedArchitecture.id)})).subscribe()}createHardware(e,i){this.httpClient.post(`${this.baseHardwareUrl+i+"/ecu"}`,e).pipe(S(()=>this.loadAllHardwares(i))).subscribe()}deleteHardware(e){this.httpClient.delete(`${this.baseHardwareUrl+e+"/delete"}`).pipe(S(()=>{this.architectureService.getSelectedArchitecture().subscribe(i=>{this.selectedArchitecture=i}),this.selectedArchitecture&&this.loadAllHardwares(this.selectedArchitecture.id)})).subscribe()}};t.\u0275fac=function(i){return new(i||t)(I(q),I(W))},t.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();var ue=(()=>{let t=class t{constructor(e,i){this.httpClient=e,this.hardwareService=i,this.hardwares=[],this.selectedServiceSubject=new R(null),this.selectedService$=this.selectedServiceSubject.asObservable(),this.servicesSubject=new R([]),this.services$=this.servicesSubject.asObservable(),this.serviceUrl="http://localhost:8080/api/services/",this.selectedHardware=null,this.servicesCountMap=new Map,this.servicesMap=new Map,this.allServicesInArchitectureCountMapSubject=new R(new Map),this.allServicesInArchitectureCountMap$=this.allServicesInArchitectureCountMapSubject.asObservable(),this.allServicesInArchitectureMapSubject=new R(new Map),this.allServicesInArchitectureMap$=this.allServicesInArchitectureMapSubject.asObservable()}subscribeOnHardwares(){this.hardwareService.hardwares$.subscribe({next:e=>{this.hardwares=e},error:e=>{console.error(e)}})}setSelectedService(e){this.selectedServiceSubject.next(e)}getSelectedService(){return this.selectedService$}getAllServicesByEcuId(e){return this.httpClient.get(`${this.serviceUrl+"ecu/"+e}`)}loadAllServices(e){this.httpClient.get(`${this.serviceUrl+"ecu/"+e}`).pipe(S(i=>{this.servicesSubject.next(i)})).subscribe()}createService(e,i){this.httpClient.post(`${this.serviceUrl+i}`,e).pipe(S(()=>{this.loadAllServices(i),this.getAllServices(this.hardwares)})).subscribe()}updadeService(e,i){this.httpClient.put(`${this.serviceUrl+i+"/update"}`,e).pipe(S(()=>{this.getAllServices(this.hardwares)})).subscribe()}deleteService(e){this.httpClient.delete(`${this.serviceUrl+e+"/delete"}`).pipe(S(()=>{this.hardwareService.getSelectedHardware().subscribe(i=>{this.selectedHardware=i}),this.selectedHardware&&this.loadAllServices(this.selectedHardware.id),this.getAllServices(this.hardwares)})).subscribe()}getAllServices(e){this.subscribeOnHardwares(),e.length&&e.map(i=>this.getAllServicesByEcuId(i.id).subscribe(o=>{this.servicesMap.set(i.id,o),this.allServicesInArchitectureMapSubject.next(new Map(this.servicesMap)),this.servicesCountMap.set(i.id,o.length),this.allServicesInArchitectureCountMapSubject.next(new Map(this.servicesCountMap))}))}};t.\u0275fac=function(i){return new(i||t)(I(q),I(J))},t.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();var rt=(()=>{let t=class t{constructor(e){this.httpClient=e,this.hardwareProreriesSubject=new R([]),this.hardwareProreries$=this.hardwareProreriesSubject.asObservable(),this.hardwarePropertyUrl="http://localhost:8080/api/ecu/"}loadAllHardwareProperties(e){this.httpClient.get(`${this.hardwarePropertyUrl+e+"/hardwares"}`).pipe(S(i=>this.hardwareProreriesSubject.next(i))).subscribe()}createHardwareProperty(e,i){this.httpClient.post(`${this.hardwarePropertyUrl+i+"/hardware"}`,e).pipe(S(()=>this.loadAllHardwareProperties(i))).subscribe()}updateHardwareProperty(e,i,o){this.httpClient.put(`${this.hardwarePropertyUrl+"hardware/"+i+"/update"}`,e).pipe(S(()=>this.loadAllHardwareProperties(o))).subscribe()}deleteHardwareProperty(e,i){this.httpClient.delete(`${this.hardwarePropertyUrl+"hardware/"+e+"/delete"}`).pipe(S(()=>this.loadAllHardwareProperties(i))).subscribe()}};t.\u0275fac=function(i){return new(i||t)(I(q))},t.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();var Gi=(()=>{let t=class t{constructor(){this.mainInfoSubject=new R(null),this.mainInfo$=this.mainInfoSubject.asObservable(),this.hardwareSubject=new R([]),this.hardware$=this.hardwareSubject.asObservable()}setMainInfo(e){this.mainInfoSubject.next(e)}getMainInfo(){return this.mainInfo$}setHardware(e){this.hardwareSubject.next(e)}getHardware(){return this.hardware$}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();var ce=(()=>{let t=class t{setCreatingLine(e){this.creatingLineSubject.next(e)}constructor(e){this.httpClient=e,this.creatingLineSubject=new R(!1),this.creatingLine$=this.creatingLineSubject.asObservable(),this.baseUrl="http://localhost:8080/api/bus/",this.dataStreamsSubject=new R([]),this.dataStreams$=this.dataStreamsSubject.asObservable(),this.baseDataStreamUrl="http://localhost:8080/api/data-stream/"}getAllBus(e){return this.httpClient.get(`${this.baseUrl+"architecture/"+e}`)}updateBus(e,i){return this.httpClient.put(`${this.baseUrl+i+"/update"}`,e)}createBus(e,i){return this.httpClient.post(`${this.baseUrl+e}`,i)}deleteBus(e){return this.httpClient.delete(`${this.baseUrl+e+"/delete"}`)}setDataStreams(e){this.dataStreamsSubject.next(e)}getDataStreams(){return this.dataStreams$}getAllDataStreams(e){return this.httpClient.get(`${this.baseDataStreamUrl+"architecture/"+e}`)}updateDataStream(e,i){return this.httpClient.put(`${this.baseDataStreamUrl+i+"/update"}`,e)}createDataStream(e,i){return this.httpClient.post(`${this.baseDataStreamUrl+e}`,i)}deleteDataStream(e){return this.httpClient.delete(`${this.baseDataStreamUrl+e+"/delete"}`)}};t.\u0275fac=function(i){return new(i||t)(I(q))},t.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();var en=(()=>{let t=class t{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}};t.\u0275fac=function(i){return new(i||t)(b(ge),b(re))},t.\u0275dir=he({type:t});let r=t;return r})(),er=(()=>{let t=class t extends en{};t.\u0275fac=(()=>{let e;return function(o){return(e||(e=Kt(t)))(o||t)}})(),t.\u0275dir=he({type:t,features:[De]});let r=t;return r})(),tn=new te("");var tr={provide:tn,useExisting:ft(()=>$),multi:!0};function ir(){let r=wt()?wt().getUserAgent():"";return/android (\d+)/.test(r.toLowerCase())}var nr=new te(""),$=(()=>{let t=class t extends en{constructor(e,i,o){super(e,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!ir())}writeValue(e){let i=e??"";this.setProperty("value",i)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}};t.\u0275fac=function(i){return new(i||t)(b(ge),b(re),b(nr,8))},t.\u0275dir=he({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&f("input",function(l){return o._handleInput(l.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(l){return o._compositionEnd(l.target.value)})},features:[be([tr]),De]});let r=t;return r})();var rr=new te(""),or=new te("");function nn(r){return r!=null}function rn(r){return ti(r)?Ht(r):r}function on(r){let t={};return r.forEach(n=>{t=n!=null?pe(pe({},t),n):t}),Object.keys(t).length===0?null:t}function sn(r,t){return t.map(n=>n(r))}function sr(r){return!r.validate}function an(r){return r.map(t=>sr(t)?t:n=>t.validate(n))}function ar(r){if(!r)return null;let t=r.filter(nn);return t.length==0?null:function(n){return on(sn(n,t))}}function cn(r){return r!=null?ar(an(r)):null}function cr(r){if(!r)return null;let t=r.filter(nn);return t.length==0?null:function(n){let e=sn(n,t).map(rn);return Ut(e).pipe(Ge(on))}}function ln(r){return r!=null?cr(an(r)):null}function Yi(r,t){return r===null?[t]:Array.isArray(r)?[...r,t]:[r,t]}function lr(r){return r._rawValidators}function dr(r){return r._rawAsyncValidators}function Ft(r){return r?Array.isArray(r)?r:[r]:[]}function st(r,t){return Array.isArray(r)?r.includes(t):r===t}function Ki(r,t){let n=Ft(t);return Ft(r).forEach(i=>{st(n,i)||n.push(i)}),n}function Zi(r,t){return Ft(t).filter(n=>!st(r,n))}var at=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=cn(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=ln(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return this.control?this.control.hasError(t,n):!1}getError(t,n){return this.control?this.control.getError(t,n):null}},Rt=class extends at{get formDirective(){return null}get path(){return null}},We=class extends at{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Nt=class{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},hr={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Ia=xe(pe({},hr),{"[class.ng-submitted]":"isSubmitted"}),ee=(()=>{let t=class t extends Nt{constructor(e){super(e)}};t.\u0275fac=function(i){return new(i||t)(b(We,2))},t.\u0275dir=he({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&Ve("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[De]});let r=t;return r})();var He="VALID",ot="INVALID",Oe="PENDING",Ue="DISABLED";function ur(r){return(ct(r)?r.validators:r)||null}function pr(r){return Array.isArray(r)?cn(r):r||null}function gr(r,t){return(ct(t)?t.asyncValidators:r)||null}function mr(r){return Array.isArray(r)?ln(r):r||null}function ct(r){return r!=null&&!Array.isArray(r)&&typeof r=="object"}var Lt=class{constructor(t,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===He}get invalid(){return this.status===ot}get pending(){return this.status==Oe}get disabled(){return this.status===Ue}get enabled(){return this.status!==Ue}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(Ki(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Ki(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Zi(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Zi(t,this._rawAsyncValidators))}hasValidator(t){return st(this._rawValidators,t)}hasAsyncValidator(t){return st(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Oe,t.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=Ue,this.errors=null,this._forEachChild(e=>{e.disable(xe(pe({},t),{onlySelf:!0}))}),this._updateValue(),t.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(xe(pe({},t),{skipPristineCheck:n})),this._onDisabledChange.forEach(e=>e(!0))}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=He,this._forEachChild(e=>{e.enable(xe(pe({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(xe(pe({},t),{skipPristineCheck:n})),this._onDisabledChange.forEach(e=>e(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===He||this.status===Oe)&&this._runAsyncValidator(t.emitEvent)),t.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ue:He}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Oe,this._hasOwnPendingAsyncValidator=!0;let n=rn(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1)}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((e,i)=>e&&e._find(i),this)}getError(t,n){let e=n?this.get(n):this;return e&&e.errors?e.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new z,this.statusChanges=new z}_calculateStatus(){return this._allControlsDisabled()?Ue:this.errors?ot:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Oe)?Oe:this._anyControlsHaveStatus(ot)?ot:He}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){ct(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=pr(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=mr(this._rawAsyncValidators)}};var dn=new te("CallSetDisabledState",{providedIn:"root",factory:()=>jt}),jt="always";function fr(r,t){return[...t.path,r]}function _r(r,t,n=jt){br(r,t),t.valueAccessor.writeValue(r.value),(r.disabled||n==="always")&&t.valueAccessor.setDisabledState?.(r.disabled),Cr(r,t),yr(r,t),wr(r,t),vr(r,t)}function Xi(r,t){r.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function vr(r,t){if(t.valueAccessor.setDisabledState){let n=e=>{t.valueAccessor.setDisabledState(e)};r.registerOnDisabledChange(n),t._registerOnDestroy(()=>{r._unregisterOnDisabledChange(n)})}}function br(r,t){let n=lr(r);t.validator!==null?r.setValidators(Yi(n,t.validator)):typeof n=="function"&&r.setValidators([n]);let e=dr(r);t.asyncValidator!==null?r.setAsyncValidators(Yi(e,t.asyncValidator)):typeof e=="function"&&r.setAsyncValidators([e]);let i=()=>r.updateValueAndValidity();Xi(t._rawValidators,i),Xi(t._rawAsyncValidators,i)}function Cr(r,t){t.valueAccessor.registerOnChange(n=>{r._pendingValue=n,r._pendingChange=!0,r._pendingDirty=!0,r.updateOn==="change"&&hn(r,t)})}function wr(r,t){t.valueAccessor.registerOnTouched(()=>{r._pendingTouched=!0,r.updateOn==="blur"&&r._pendingChange&&hn(r,t),r.updateOn!=="submit"&&r.markAsTouched()})}function hn(r,t){r._pendingDirty&&r.markAsDirty(),r.setValue(r._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1}function yr(r,t){let n=(e,i)=>{t.valueAccessor.writeValue(e),i&&t.viewToModelUpdate(e)};r.registerOnChange(n),t._registerOnDestroy(()=>{r._unregisterOnChange(n)})}function xr(r,t){if(!r.hasOwnProperty("model"))return!1;let n=r.model;return n.isFirstChange()?!0:!Object.is(t,n.currentValue)}function Sr(r){return Object.getPrototypeOf(r.constructor)===er}function Dr(r,t){if(!t)return null;Array.isArray(t);let n,e,i;return t.forEach(o=>{o.constructor===$?n=o:Sr(o)?e=o:i=o}),i||e||n||null}function qi(r,t){let n=r.indexOf(t);n>-1&&r.splice(n,1)}function Qi(r){return typeof r=="object"&&r!==null&&Object.keys(r).length===2&&"value"in r&&"disabled"in r}var Er=class extends Lt{constructor(t=null,n,e){super(ur(n),gr(e,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ct(n)&&(n.nonNullable||n.initialValueIsDefault)&&(Qi(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(e=>e(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){qi(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){qi(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){Qi(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var Mr={provide:We,useExisting:ft(()=>X)},Ji=Promise.resolve(),X=(()=>{let t=class t extends We{constructor(e,i,o,s,l,u){super(),this._changeDetectorRef=l,this.callSetDisabledState=u,this.control=new Er,this._registered=!1,this.name="",this.update=new z,this._parent=e,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=Dr(this,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),xr(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){_r(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){Ji.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let i=e.isDisabled.currentValue,o=i!==0&&Xe(i);Ji.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?fr(e,this._parent):[e]}};t.\u0275fac=function(i){return new(i||t)(b(Rt,9),b(rr,10),b(or,10),b(tn,10),b(Fe,8),b(dn,8))},t.\u0275dir=he({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[H.None,"disabled","isDisabled"],model:[H.None,"ngModel","model"],options:[H.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[be([Mr]),De,Te]});let r=t;return r})();var Ir=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=K({type:t}),t.\u0275inj=Y({});let r=t;return r})();var un=(()=>{let t=class t{static withConfig(e){return{ngModule:t,providers:[{provide:dn,useValue:e.callSetDisabledState??jt}]}}};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=K({type:t}),t.\u0275inj=Y({imports:[Ir]});let r=t;return r})();var pn=(()=>{let t=class t{constructor(e,i){this.serviceService=e,this.hardwareService=i,this.selectedEcu=null,this.createServiceDialogData=null,this.newServiceName=null,this.newServiceDescription=null}ngOnInit(){this.hardwareService.selectedHardware$.subscribe({next:e=>{this.selectedEcu=e},error:e=>{console.error(e)}})}close(){this.createServiceDialogData.showCreateServiceDialog=!1}save(){if(this.newServiceName&&this.newServiceDescription){let e={name:this.newServiceName,type:"Service",description:this.newServiceDescription,positionX:228,positionY:229,connectedTo:"9"};this.selectedEcu&&this.serviceService.createService(e,this.selectedEcu.id),this.createServiceDialogData.showCreateServiceDialog=!1}else console.log("All required feelds have to be filled!")}};t.\u0275fac=function(i){return new(i||t)(b(ue),b(J))},t.\u0275cmp=k({type:t,selectors:[["app-create-service-infrastructure-dialog"]],inputs:{createServiceDialogData:"createServiceDialogData"},decls:16,vars:3,consts:[[1,"dialog-container"],[1,"dialog-content"],[1,"dialog-close-button",3,"click"],[1,"property"],["type","text","placeholder","Service Name",1,"input-name",3,"ngModelChange","ngModel"],["type","text","placeholder","Description",1,"textarea-description",3,"ngModelChange","ngModel"],[1,"dialog-save-button",3,"click","disabled"]],template:function(i,o){i&1&&(c(0,"div",0)(1,"div",1)(2,"button",2),f("click",function(){return o.close()}),m(3,"Close"),a(),c(4,"h3"),m(5," Create Service"),a(),c(6,"div",3)(7,"h2"),m(8,"Name*: "),a(),c(9,"input",4),M("ngModelChange",function(l){return E(o.newServiceName,l)||(o.newServiceName=l),l}),a()(),c(10,"div",3)(11,"h2"),m(12,"Description*: "),a(),c(13,"textarea",5),M("ngModelChange",function(l){return E(o.newServiceDescription,l)||(o.newServiceDescription=l),l}),a()(),c(14,"button",6),f("click",function(){return o.save()}),m(15,"Save"),a()()()),i&2&&(h(9),D("ngModel",o.newServiceName),h(4),D("ngModel",o.newServiceDescription),h(),_("disabled",!1))},dependencies:[$,ee,X],styles:[".dialog-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:9999}.dialog-content[_ngcontent-%COMP%]{position:relative;background-color:#fff;border-radius:10px;box-shadow:0 4px 8px #0000001a;padding:30px;width:80%;height:80vh;margin:auto;text-align:left;animation:_ngcontent-%COMP%_slideIn .3s ease-out}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translateY(-20px);opacity:0}to{transform:translateY(0);opacity:1}}.dialog-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:24px;margin-bottom:20px;color:#333}.dialog-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:18px;margin-bottom:10px;color:#555}.property[_ngcontent-%COMP%]{display:grid;grid-template-columns:20% 80%;justify-content:flex-start;margin-bottom:20px}.input-name[_ngcontent-%COMP%]{width:60%;padding:10px;margin-bottom:10px;border:1px solid #ccc;border-radius:6px;font-size:16px;transition:border-color .3s ease}.input-name[_ngcontent-%COMP%]::placeholder, .textarea-description[_ngcontent-%COMP%]::placeholder{color:#aaa}.input-name[_ngcontent-%COMP%]:focus, .textarea-description[_ngcontent-%COMP%]:focus{outline:none;border-color:#009ba0}.input-name[_ngcontent-%COMP%]:focus::placeholder, .textarea-description[_ngcontent-%COMP%]::placeholder{color:transparent}.textarea-description[_ngcontent-%COMP%]{width:60%;height:400px;padding:10px;margin-bottom:10px;border:1px solid #ccc;border-radius:6px;font-size:16px;transition:border-color .3s ease}.dialog-close-button[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;padding:10px 20px;background-color:#fff;color:#252525;font-size:1rem;border-radius:5px;border:2px solid #801D1A;cursor:pointer;z-index:10}.dialog-close-button[_ngcontent-%COMP%]:hover{background-color:#e3a3a9;box-shadow:0 4px 8px #0003}.dialog-close-button[_ngcontent-%COMP%]:active{background-color:#801d1a;color:#fff}.dialog-save-button[_ngcontent-%COMP%]{position:absolute;bottom:10px;right:10px;padding:10px 20px;background-color:#fff;color:#252525;font-size:1rem;border-radius:5px;border:2px solid #009BA0;cursor:pointer;z-index:10}.dialog-save-button[_ngcontent-%COMP%]:hover{background-color:#cef8fa;box-shadow:0 4px 8px #0003}.dialog-save-button[_ngcontent-%COMP%]:active{background-color:#009ba0;color:#fff}.dialog-save-button[_ngcontent-%COMP%]:disabled{border:2px solid #801D1A}"]});let r=t;return r})();var gn=(()=>{let t=class t{constructor(e){this.httpClient=e,this.serviceProreriesSubject=new R([]),this.serviceProreries$=this.serviceProreriesSubject.asObservable(),this.servicePropertyUrl="http://localhost:8080/api/"}loadAllServiceProperties(e){this.httpClient.get(`${this.servicePropertyUrl+"service_properties/"+e}`).pipe(S(i=>this.serviceProreriesSubject.next(i))).subscribe()}createServiceProperty(e,i){this.httpClient.post(`${this.servicePropertyUrl+"service_property/"+i}`,e).pipe(S(()=>this.loadAllServiceProperties(i))).subscribe()}updateServiceProperty(e,i,o){this.httpClient.put(`${this.servicePropertyUrl+"service_property/"+i+"/update"}`,e).pipe(S(()=>this.loadAllServiceProperties(o))).subscribe()}deleteServiceProperty(e,i){this.httpClient.delete(`${this.servicePropertyUrl+"service_property/"+e+"/delete"}`).pipe(S(()=>this.loadAllServiceProperties(i))).subscribe()}};t.\u0275fac=function(i){return new(i||t)(I(q))},t.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();function Ar(r,t){if(r&1){let n=y();O(0),c(1,"h3",14),m(2),a(),c(3,"button",15),f("click",function(){p(n);let i=d();return g(i.editName())}),w(4,"i",16),a(),A()}if(r&2){let n=d();h(2),P(n.selectedService.name)}}function kr(r,t){if(r&1){let n=y();O(0),c(1,"div",17)(2,"input",18),M("ngModelChange",function(i){p(n);let o=d();return E(o.selectedService.name,i)||(o.selectedService.name=i),g(i)}),a()(),c(3,"div",19)(4,"button",15),f("click",function(){p(n);let i=d();return g(i.canselEditingName())}),w(5,"i",20),a(),c(6,"button",15),f("click",function(){p(n);let i=d();return g(i.saveName())}),w(7,"i",21),a()(),A()}if(r&2){let n=d();h(2),D("ngModel",n.selectedService.name)}}function Tr(r,t){if(r&1){let n=y();O(0),c(1,"h4",6),m(2,"Description:"),a(),c(3,"div",4)(4,"textarea",22),M("ngModelChange",function(i){p(n);let o=d();return E(o.selectedService.description,i)||(o.selectedService.description=i),g(i)}),m(5),a(),c(6,"div",19)(7,"button",15),f("click",function(){p(n);let i=d();return g(i.canselEditingDescription())}),w(8,"i",20),a(),c(9,"button",15),f("click",function(){p(n);let i=d();return g(i.saveDescription())}),w(10,"i",21),a()()(),A()}if(r&2){let n=d();h(4),D("ngModel",n.selectedService.description),h(),P(n.selectedService.description)}}function Vr(r,t){if(r&1){let n=y();O(0),c(1,"div",4)(2,"h4",6),m(3,"Description:"),a(),c(4,"button",15),f("click",function(){p(n);let i=d();return g(i.editDescription())}),w(5,"i",16),a()(),c(6,"p",23),m(7),a(),A()}if(r&2){let n=d();h(7),P(n.selectedService.description)}}function Fr(r,t){if(r&1){let n=y();O(0),c(1,"span",25),m(2),a(),c(3,"span",26),m(4),a(),c(5,"div",4)(6,"button",27),f("click",function(){p(n);let i=d().$implicit,o=d();return g(o.editProperty(i))}),w(7,"i",16),a(),c(8,"button",27),f("click",function(){p(n);let i=d().$implicit,o=d();return g(o.deleteProperty(i))}),w(9,"i",28),a()(),A()}if(r&2){let n=d().$implicit;h(2),N("",n.name,":"),h(2),P(n.value),h(2),de("id",n.id),h(2),de("id",n.id)}}function Rr(r,t){if(r&1){let n=y();O(0),c(1,"input",18),M("ngModelChange",function(i){p(n);let o=d().$implicit;return E(o.name,i)||(o.name=i),g(i)}),a(),c(2,"input",18),M("ngModelChange",function(i){p(n);let o=d().$implicit;return E(o.value,i)||(o.value=i),g(i)}),a(),c(3,"div",19)(4,"button",15),f("click",function(){p(n);let i=d(2);return g(i.canselEditingProperty())}),w(5,"i",20),a(),c(6,"button",15),f("click",function(){p(n);let i=d().$implicit,o=d();return g(o.saveProperty(i))}),w(7,"i",21),a()(),A()}if(r&2){let n=d().$implicit;h(),D("ngModel",n.name),h(),D("ngModel",n.value)}}function Nr(r,t){if(r&1&&(c(0,"li",24),x(1,Fr,10,4,"ng-container",5)(2,Rr,8,2,"ng-container",5),a()),r&2){let n=t.$implicit,e=d();h(),_("ngIf",n.id!==e.servicePropertyId),h(),_("ngIf",n.id===e.servicePropertyId)}}var mn=(()=>{let t=class t{editName(){this.nameEditMod=!0}canselEditingName(){this.nameEditMod=!1}saveName(){this.serviceService.updadeService(this.selectedService,this.selectedService.id),this.nameEditMod=!1}editDescription(){this.descriptionEditMod=!0,setTimeout(()=>{this.autoResizeTextarea()},50)}canselEditingDescription(){this.descriptionEditMod=!1}saveDescription(){this.serviceService.updadeService(this.selectedService,this.selectedService.id),this.descriptionEditMod=!1}editProperty(e){this.servicePropertyId=e.id}canselEditingProperty(){this.servicePropertyId=null}deleteProperty(e){this.serviceProperyService.deleteServiceProperty(e.id,this.selectedService.id)}saveProperty(e){this.serviceProperyService.updateServiceProperty(e,e.id,this.selectedService.id),this.servicePropertyId=null}constructor(e,i,o,s,l){this.serviceProperyService=e,this.architectureService=i,this.serviceService=o,this.hardwareService=s,this.lineCreationService=l,this.nameEditMod=!1,this.descriptionEditMod=!1,this.servicePropertyId=null,this.selectedService=null,this.servicesMap=new Map,this.dataStreams=[],this.selectedArchitecture=null,this.serviceProperties=[],this.serviceDetilsData=null,this.propertyKey="",this.propertyValue=""}subscribeOnSelectedService(){this.serviceService.selectedService$.subscribe({next:e=>{this.selectedService=e},error:e=>{console.error(e)}})}subscribeOnServices(){this.serviceService.allServicesInArchitectureMap$.subscribe({next:e=>{this.servicesMap=e},error:e=>{console.error(e)}})}subscribeOnDataStreams(){this.lineCreationService.dataStreams$.subscribe({next:e=>{this.dataStreams=e},error:e=>{console.error(e)}})}subscribeOnSelectedArchitecture(){this.architectureService.selectedArchitecture$.subscribe({next:e=>{this.selectedArchitecture=e},error:e=>{console.error(e)}})}subscribeOnServiceProperties(){this.serviceProperyService.serviceProreries$.subscribe({next:e=>{this.serviceProperties=e},error:e=>{console.error(e)}})}ngOnInit(){this.subscribeOnSelectedArchitecture(),this.subscribeOnSelectedService(),this.subscribeOnServices(),this.subscribeOnDataStreams(),this.subscribeOnServiceProperties(),this.serviceProperyService.loadAllServiceProperties(this.selectedService.id)}close(){this.serviceService.setSelectedService(null)}delete(){var e=[];for(let i=0;i<this.dataStreams.length;i++)this.dataStreams[i].connectedFrom===this.selectedService.id.toString()?(e.push(this.dataStreams[i].id),this.deleteDataStream(this.dataStreams[i].id)):this.dataStreams[i].connectedTo===this.selectedService.id.toString()&&(e.push(this.dataStreams[i].id),this.deleteDataStream(this.dataStreams[i].id));this.deleteService(this.serviceDetilsData.selectedService.id),this.serviceService.setSelectedService(null)}deleteService(e){this.serviceService.deleteService(e)}deleteDataStream(e){this.lineCreationService.deleteDataStream(e).subscribe({next:i=>{this.serviceDetilsData.getDataStreams(this.selectedArchitecture.id)},error:i=>{console.error("Error deleting Data Stream",i)}})}addServiceProperty(){if(this.selectedService&&this.propertyKey&&this.propertyValue){let e={name:this.propertyKey,value:this.propertyValue};this.serviceProperyService.createServiceProperty(e,this.selectedService.id),this.propertyKey="",this.propertyValue=""}}autoResizeTextarea(){let e=document.getElementById("textarea-description");e&&(e.style.height=e.scrollHeight+"px")}};t.\u0275fac=function(i){return new(i||t)(b(gn),b(W),b(ue),b(J),b(ce))},t.\u0275cmp=k({type:t,selectors:[["app-service-dialog"]],inputs:{serviceDetilsData:"serviceDetilsData"},decls:23,vars:7,consts:[[1,"dialog-container"],[1,"dialog-content"],[1,"dialog-close-button",3,"click"],[1,"service-details"],[1,"horisontal-container"],[4,"ngIf"],[1,"ecu-properties-header"],[1,"service-properties-list"],["class","service-property",4,"ngFor","ngForOf"],[1,"input-sidebar"],["type","text","placeholder","Property",1,"input-field",3,"ngModelChange","ngModel"],["type","text","placeholder","Description",1,"input-field",3,"ngModelChange","ngModel"],[1,"add-property-button",3,"click"],[1,"dialog-delete-button",3,"click"],[1,"ecu-details-header"],[1,"manipulation-button",3,"click"],[1,"fas","fa-edit","fa-lg"],[1,"input-name-wrapper"],[1,"input-field",3,"ngModelChange","ngModel"],[1,"vertical-container"],[1,"fas","fa-times","fa-lg"],[1,"fas","fa-save","fa-lg"],["id","textarea-description","type","text",1,"textarea-description",3,"ngModelChange","ngModel"],[1,"description"],[1,"service-property"],[1,"property-name"],[1,"property-value"],[1,"manipulation-button",3,"click","id"],[1,"fas","fa-trash","fa-lg"]],template:function(i,o){i&1&&(c(0,"div",0)(1,"div",1)(2,"button",2),f("click",function(){return o.close()}),m(3,"Close"),a(),c(4,"div",3)(5,"div",4),x(6,Ar,5,1,"ng-container",5)(7,kr,8,1,"ng-container",5),a(),c(8,"div"),x(9,Tr,11,2,"ng-container",5)(10,Vr,8,1,"ng-container",5),a(),c(11,"div")(12,"h4",6),m(13,"Properties:"),a(),c(14,"ul",7),x(15,Nr,3,2,"li",8),a()(),c(16,"div",9)(17,"input",10),M("ngModelChange",function(l){return E(o.propertyKey,l)||(o.propertyKey=l),l}),a(),c(18,"input",11),M("ngModelChange",function(l){return E(o.propertyValue,l)||(o.propertyValue=l),l}),a(),c(19,"button",12),f("click",function(){return o.addServiceProperty()}),m(20,"Add Property"),a()(),c(21,"button",13),f("click",function(){return o.delete()}),m(22,"Delete"),a()()()()),i&2&&(h(6),_("ngIf",!o.nameEditMod),h(),_("ngIf",o.nameEditMod),h(2),_("ngIf",o.descriptionEditMod),h(),_("ngIf",!o.descriptionEditMod),h(5),_("ngForOf",o.serviceProperties),h(2),D("ngModel",o.propertyKey),h(),D("ngModel",o.propertyValue))},dependencies:[se,U,$,ee,X],styles:[".green-button[_ngcontent-%COMP%]{margin-left:20px;padding:10px 20px;background-color:#fff;color:#252525;font-size:1rem;border-radius:5px;border:2px solid #009BA0;cursor:pointer;z-index:10}.green-button[_ngcontent-%COMP%]:hover{background-color:#cef8fa;box-shadow:0 4px 8px #0003}.green-button[_ngcontent-%COMP%]:active{background-color:#009ba0;color:#fff}.horisontal-container[_ngcontent-%COMP%]{display:flex;flex-direction:row}.vertical-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translateY(-20px);opacity:0}to{transform:translateY(0);opacity:1}}.ecu-details-header[_ngcontent-%COMP%]{font-size:2.5rem;margin-top:10px;margin-bottom:10px;color:#555}.ecu-properties-header[_ngcontent-%COMP%]{font-size:1.5rem;margin-top:10px;margin-bottom:10px;color:#555}.service-properties-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin-top:10px}.service-property[_ngcontent-%COMP%]{font-size:1rem;color:#666;display:grid;grid-template-columns:20% 70% 10%;gap:5px;margin-bottom:10px}.property-name[_ngcontent-%COMP%], .property-value[_ngcontent-%COMP%]{white-space:normal;word-break:break-word}.input-name-wrapper[_ngcontent-%COMP%]{margin-bottom:10px}.input-sidebar[_ngcontent-%COMP%]{display:grid;grid-template-columns:20% 70% 10%;gap:5px;margin-bottom:10px}.input-field[_ngcontent-%COMP%]{padding:10px;border:1px solid #ccc;border-radius:6px;font-size:1rem;transition:border-color .3s ease}.input-field[_ngcontent-%COMP%]::placeholder{color:#aaa}.input-field[_ngcontent-%COMP%]:focus{outline:none;border-color:#009ba0}.input-field[_ngcontent-%COMP%]:focus::placeholder{color:transparent}.dialog-close-button[_ngcontent-%COMP%]{position:absolute;top:5px;right:10px;background-color:#fff;border:2px solid #801D1A;font-size:1rem;border-radius:6px;cursor:pointer;transition:background-color .3s ease;padding:10px 20px;z-index:10}.dialog-close-button[_ngcontent-%COMP%]:hover{background-color:#e3a3a9;box-shadow:0 4px 8px #0003}.dialog-close-button[_ngcontent-%COMP%]:active{background-color:#801d1a;color:#fff}.dialog-delete-button[_ngcontent-%COMP%]{padding:10px 20px;border-radius:6px;cursor:pointer;background-color:#fff;border:2px solid #801D1A;font-size:1rem}.dialog-delete-button[_ngcontent-%COMP%]:hover{background-color:#e3a3a9;box-shadow:0 4px 8px #0003}.dialog-delete-button[_ngcontent-%COMP%]:active{background-color:#801d1a;color:#fff}.dialog-save-button[_ngcontent-%COMP%]{position:absolute;top:5px;right:100px;margin-right:10px;padding:10px 20px;background-color:#fff;color:#252525;font-size:1rem;border-radius:5px;border:2px solid #009BA0;cursor:pointer;z-index:10}.dialog-save-button[_ngcontent-%COMP%]:hover{background-color:#cef8fa;box-shadow:0 4px 8px #0003}.dialog-save-button[_ngcontent-%COMP%]:active{background-color:#009ba0;color:#fff}.description[_ngcontent-%COMP%]{width:90%;height:auto;font-size:1rem;margin-right:10px;white-space:pre-line;word-break:break-word}.add-property-button[_ngcontent-%COMP%]{width:100%;margin-left:5px;padding:10px;background-color:#fff;color:#252525;font-size:1rem;border-radius:5px;border:2px solid #009BA0;cursor:pointer;z-index:10}.add-property-button[_ngcontent-%COMP%]:hover{background-color:#cef8fa;box-shadow:0 4px 8px #0003}.add-property-button[_ngcontent-%COMP%]:active{background-color:#009ba0;color:#fff}.dialog-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:9999}.dialog-content[_ngcontent-%COMP%]{position:relative;background-color:#fff;border-radius:10px;box-shadow:0 4px 8px #0000001a;padding:10px 20px;width:80%;height:80vh;margin:auto;text-align:left;animation:_ngcontent-%COMP%_slideIn .3s ease-out}.dialog-delete-button[_ngcontent-%COMP%]{padding:12px 24px;border-radius:6px;cursor:pointer;background-color:#fff;border:2px solid #801D1A}.dialog-delete-button[_ngcontent-%COMP%]:hover{background-color:#e3a3a9}.manipulation-button[_ngcontent-%COMP%]{display:flex;justify-content:left;margin:0;padding:5px;background-color:transparent;border:0}.manipulation-button[_ngcontent-%COMP%]:hover{cursor:pointer}.manipulation-button[_ngcontent-%COMP%]:active{color:#009ba0}.textarea-description[_ngcontent-%COMP%]:focus{outline:none;border-color:#009ba0}.textarea-description[_ngcontent-%COMP%]::placeholder{color:transparent}.textarea-description[_ngcontent-%COMP%]{width:88.5%;height:auto;padding:10px;margin-right:5px;border:1px solid #ccc;border-radius:6px;font-size:1rem;transition:border-color .3s ease}"]});let r=t;return r})();var fn=(()=>{let t=class t{constructor(e){this.httpClient=e,this.dataStreamProreriesSubject=new R([]),this.dataStreamProreries$=this.dataStreamProreriesSubject.asObservable(),this.dataStreamPropertyUrl="http://localhost:8080/api/data-stream_property/"}loadAllDataStreamProperties(e){this.httpClient.get(`${this.dataStreamPropertyUrl+"get-all/"+e}`).pipe(S(i=>this.dataStreamProreriesSubject.next(i))).subscribe()}createDataStreamProperty(e,i){this.httpClient.post(`${this.dataStreamPropertyUrl+i}`,e).pipe(S(()=>this.loadAllDataStreamProperties(i))).subscribe()}updateDataStreamProperty(e,i,o){this.httpClient.put(`${this.dataStreamPropertyUrl+i+"/update"}`,e).pipe(S(()=>this.loadAllDataStreamProperties(o))).subscribe()}deleteDataStreamProperty(e,i){this.httpClient.delete(`${this.dataStreamPropertyUrl+e+"/delete"}`).pipe(S(()=>this.loadAllDataStreamProperties(i))).subscribe()}};t.\u0275fac=function(i){return new(i||t)(I(q))},t.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();function Br(r,t){if(r&1){let n=y();O(0),c(1,"h3",15),m(2),a(),c(3,"button",16),f("click",function(){p(n);let i=d(2);return g(i.editName())}),w(4,"i",17),a(),A()}if(r&2){let n=d(2);h(2),P(n.dataStreamsData.selectedDataStream.name)}}function zr(r,t){if(r&1){let n=y();O(0),c(1,"div",18)(2,"input",19),M("ngModelChange",function(i){p(n);let o=d(2);return E(o.dataStreamsData.selectedDataStream.name,i)||(o.dataStreamsData.selectedDataStream.name=i),g(i)}),a()(),c(3,"div",20)(4,"button",16),f("click",function(){p(n);let i=d(2);return g(i.canselEditingName())}),w(5,"i",21),a(),c(6,"button",16),f("click",function(){p(n);let i=d(2);return g(i.saveName())}),w(7,"i",22),a()(),A()}if(r&2){let n=d(2);h(2),D("ngModel",n.dataStreamsData.selectedDataStream.name)}}function Hr(r,t){if(r&1){let n=y();O(0),c(1,"h4",5),m(2,"Description:"),a(),c(3,"div",4)(4,"textarea",23),M("ngModelChange",function(i){p(n);let o=d(2);return E(o.dataStreamsData.selectedDataStream.description,i)||(o.dataStreamsData.selectedDataStream.description=i),g(i)}),m(5),a(),c(6,"div",20)(7,"button",16),f("click",function(){p(n);let i=d(2);return g(i.canselEditingDescription())}),w(8,"i",21),a(),c(9,"button",16),f("click",function(){p(n);let i=d(2);return g(i.saveDescription())}),w(10,"i",22),a()()(),A()}if(r&2){let n=d(2);h(4),D("ngModel",n.dataStreamsData.selectedDataStream.description),h(),P(n.dataStreamsData.selectedDataStream.description)}}function Ur(r,t){if(r&1){let n=y();O(0),c(1,"div",4)(2,"h4",5),m(3,"Description:"),a(),c(4,"button",16),f("click",function(){p(n);let i=d(2);return g(i.editDescription())}),w(5,"i",17),a()(),c(6,"p",24),m(7),a(),A()}if(r&2){let n=d(2);h(7),P(n.dataStreamsData.selectedDataStream.description)}}function Wr(r,t){if(r&1){let n=y();O(0),c(1,"span",26),m(2),a(),c(3,"span",27),m(4),a(),c(5,"div",4)(6,"button",28),f("click",function(){p(n);let i=d().$implicit,o=d(2);return g(o.editProperty(i))}),w(7,"i",17),a(),c(8,"button",28),f("click",function(){p(n);let i=d().$implicit,o=d(2);return g(o.deleteProperty(i))}),w(9,"i",29),a()(),A()}if(r&2){let n=d().$implicit;h(2),N("",n.name,":"),h(2),P(n.value),h(2),de("id",n.id),h(2),de("id",n.id)}}function $r(r,t){if(r&1){let n=y();O(0),c(1,"input",19),M("ngModelChange",function(i){p(n);let o=d().$implicit;return E(o.name,i)||(o.name=i),g(i)}),a(),c(2,"input",19),M("ngModelChange",function(i){p(n);let o=d().$implicit;return E(o.value,i)||(o.value=i),g(i)}),a(),c(3,"div",20)(4,"button",16),f("click",function(){p(n);let i=d(3);return g(i.canselEditingProperty())}),w(5,"i",21),a(),c(6,"button",16),f("click",function(){p(n);let i=d().$implicit,o=d(2);return g(o.saveProperty(i))}),w(7,"i",22),a()(),A()}if(r&2){let n=d().$implicit;h(),D("ngModel",n.name),h(),D("ngModel",n.value)}}function Gr(r,t){if(r&1&&(c(0,"li",25),x(1,Wr,10,4,"ng-container",3)(2,$r,8,2,"ng-container",3),a()),r&2){let n=t.$implicit,e=d(2);h(),_("ngIf",n.id!==e.dataStreamPropertyId),h(),_("ngIf",n.id===e.dataStreamPropertyId)}}function Yr(r,t){if(r&1){let n=y();c(0,"div")(1,"div",4),x(2,Br,5,1,"ng-container",3)(3,zr,8,1,"ng-container",3),a(),c(4,"div"),x(5,Hr,11,2,"ng-container",3)(6,Ur,8,1,"ng-container",3),a(),c(7,"h4",5),m(8),a(),c(9,"h4",5),m(10),a(),c(11,"div",4)(12,"h4",5),m(13,"Two way connection: "),a(),c(14,"div",6)(15,"i",7),f("click",function(){p(n);let i=d();return g(i.twoWayConnectionChange())}),a()()(),c(16,"div")(17,"h4",5),m(18,"Properties:"),a(),c(19,"ul",8),x(20,Gr,3,2,"li",9),a()(),c(21,"div",10)(22,"input",11),M("ngModelChange",function(i){p(n);let o=d();return E(o.propertyKey,i)||(o.propertyKey=i),g(i)}),a(),c(23,"input",12),M("ngModelChange",function(i){p(n);let o=d();return E(o.propertyValue,i)||(o.propertyValue=i),g(i)}),a(),c(24,"button",13),f("click",function(){p(n);let i=d();return g(i.addServiceProperty())}),m(25,"Add Property"),a()(),c(26,"button",14),f("click",function(){p(n);let i=d();return g(i.deleteDataStreamButton())}),m(27,"Delete"),a()()}if(r&2){let n=d();h(2),_("ngIf",!n.nameEditMod),h(),_("ngIf",n.nameEditMod),h(2),_("ngIf",n.descriptionEditMod),h(),_("ngIf",!n.descriptionEditMod),h(2),N("Connected from: ",n.dataStreamsData.selectedDataStream.connectedFrom,""),h(2),N("Connected to: ",n.dataStreamsData.selectedDataStream.connectedTo,""),h(5),_("ngClass",n.dataStreamsData.selectedDataStream.twoWayConnection?"fas fa-check-square fa-2x":"far fa-square fa-2x"),h(5),_("ngForOf",n.dataStreamProperties),h(2),D("ngModel",n.propertyKey),h(),D("ngModel",n.propertyValue)}}var _n=(()=>{let t=class t{constructor(e,i,o){this.architectureService=e,this.lineCreationService=i,this.dataStreamPropertyService=o,this.twoWayConnectionEditMod=!1,this.nameEditMod=!1,this.descriptionEditMod=!1,this.dataStreamPropertyId=null,this.propertyKey="",this.propertyValue="",this.selectedArchitecture=null,this.dataStreamProperties=[],this.dataStreamsData=null}save(){}editName(){this.nameEditMod=!0}canselEditingName(){this.nameEditMod=!1}saveName(){this.lineCreationService.updateDataStream(this.dataStreamsData.selectedDataStream,this.dataStreamsData.selectedDataStream.id),this.nameEditMod=!1}editDescription(){this.descriptionEditMod=!0,setTimeout(()=>{this.autoResizeTextarea()},50)}autoResizeTextarea(){let e=document.getElementById("textarea-description");e&&(e.style.height=e.scrollHeight+"px")}saveDescription(){this.lineCreationService.updateDataStream(this.dataStreamsData.selectedDataStream,this.dataStreamsData.selectedDataStream.id),this.descriptionEditMod=!1}canselEditingDescription(){this.descriptionEditMod=!1}twoWayConnectionChange(){this.dataStreamsData.selectedDataStream.twoWayConnection=!this.dataStreamsData.selectedDataStream.twoWayConnection,this.lineCreationService.updateDataStream(this.dataStreamsData.selectedDataStream,this.dataStreamsData.selectedDataStream.id)}editProperty(e){this.dataStreamPropertyId=e.id}canselEditingProperty(){this.dataStreamPropertyId=null}deleteProperty(e){this.dataStreamPropertyService.deleteDataStreamProperty(e.id,this.dataStreamsData.selectedDataStream.id)}saveProperty(e){this.dataStreamPropertyService.updateDataStreamProperty(e,e.id,this.dataStreamsData.selectedDataStream.id),this.dataStreamPropertyId=null}addServiceProperty(){if(this.dataStreamsData.selectedDataStream&&this.propertyKey&&this.propertyValue){let e={name:this.propertyKey,value:this.propertyValue};this.dataStreamPropertyService.createDataStreamProperty(e,this.dataStreamsData.selectedDataStream.id),this.propertyKey="",this.propertyValue=""}}subscribeOnSelectedArchitecture(){this.architectureService.selectedArchitecture$.subscribe({next:e=>{this.selectedArchitecture=e},error:e=>{console.error(e)}})}subscribeOnDataStreamProperties(){this.dataStreamPropertyService.dataStreamProreries$.subscribe({next:e=>{this.dataStreamProperties=e},error:e=>{console.error(e)}})}ngOnInit(){this.subscribeOnSelectedArchitecture(),this.dataStreamPropertyService.loadAllDataStreamProperties(this.dataStreamsData.selectedDataStream.id),this.subscribeOnDataStreamProperties()}close(){this.dataStreamsData.showDataStreamDialog=!1}deleteDataStreamButton(){this.deleteDataStream(this.dataStreamsData.selectedDataStream.id)}deleteDataStream(e){this.lineCreationService.deleteDataStream(e).subscribe({next:i=>{this.dataStreamsData.getDataStreams(this.selectedArchitecture.id),this.dataStreamsData.showDataStreamDialog=!1},error:i=>{console.error("Error deleting Data Stream",i)}})}};t.\u0275fac=function(i){return new(i||t)(b(W),b(ce),b(fn))},t.\u0275cmp=k({type:t,selectors:[["app-data-stream-dialog"]],inputs:{dataStreamsData:"dataStreamsData"},decls:5,vars:1,consts:[[1,"dialog-container"],[1,"dialog-content"],[1,"dialog-close-button",3,"click"],[4,"ngIf"],[1,"horisontal-container"],[1,"data-stream-properties-header"],[1,"checkbox-wrapper"],[3,"click","ngClass"],[1,"data-stream-properties-list"],["class","data-stream-property",4,"ngFor","ngForOf"],[1,"input-sidebar"],["type","text","placeholder","Property",1,"input-field",3,"ngModelChange","ngModel"],["type","text","placeholder","Description",1,"input-field",3,"ngModelChange","ngModel"],[1,"add-property-button",3,"click"],[1,"dialog-delete-button",3,"click"],[1,"data-stream-details-header"],[1,"manipulation-button",3,"click"],[1,"fas","fa-edit","fa-lg"],[1,"input-name-wrapper"],[1,"input-field",3,"ngModelChange","ngModel"],[1,"vertical-container"],[1,"fas","fa-times","fa-lg"],[1,"fas","fa-save","fa-lg"],["id","textarea-description","type","text",1,"textarea-description",3,"ngModelChange","ngModel"],[1,"description"],[1,"data-stream-property"],[1,"property-name"],[1,"property-value"],[1,"manipulation-button",3,"click","id"],[1,"fas","fa-trash","fa-lg"]],template:function(i,o){i&1&&(c(0,"div",0)(1,"div",1)(2,"button",2),f("click",function(){return o.close()}),m(3,"Close"),a(),x(4,Yr,28,10,"div",3),a()()),i&2&&(h(4),_("ngIf",o.dataStreamsData.selectedDataStream))},dependencies:[ri,se,U,$,ee,X],styles:[".dialog-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:9999}.dialog-content[_ngcontent-%COMP%]{position:relative;background-color:#fff;border-radius:10px;box-shadow:0 4px 8px #0000001a;padding-left:20px;padding-right:20px;padding-top:20px;width:80%;height:80vh;margin:auto;text-align:left;animation:_ngcontent-%COMP%_slideIn .3s ease-out}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translateY(-20px);opacity:0}to{transform:translateY(0);opacity:1}}.data-stream-details-header[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:10px;color:#555}.data-stream-properties-header[_ngcontent-%COMP%]{font-size:1.5rem;margin-top:10px;color:#555}.data-stream-properties-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin-top:10px}.data-stream-property[_ngcontent-%COMP%]{font-size:1rem;color:#666;display:grid;grid-template-columns:20% 70% 10%;gap:5px;margin-bottom:10px}.dialog-close-button[_ngcontent-%COMP%]{position:absolute;top:20px;right:20px;background-color:#fff;border:2px solid #801D1A;font-size:1rem;border-radius:6px;cursor:pointer;transition:background-color .3s ease;padding:10px 20px;z-index:10}.dialog-close-button[_ngcontent-%COMP%]:hover{background-color:#e3a3a9;box-shadow:0 4px 8px #0003}.dialog-close-button[_ngcontent-%COMP%]:active{background-color:#801d1a;color:#fff}.manipulation-button[_ngcontent-%COMP%]{display:flex;justify-content:left;margin:0;padding:5px;background-color:transparent;border:0}.manipulation-button[_ngcontent-%COMP%]:hover{cursor:pointer}.manipulation-button[_ngcontent-%COMP%]:active{color:#009ba0}.vertical-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between}.input-name-wrapper[_ngcontent-%COMP%]{margin-bottom:10px}.input-field[_ngcontent-%COMP%]{padding:10px;border:1px solid #ccc;border-radius:6px;font-size:1rem;transition:border-color .3s ease}.input-field[_ngcontent-%COMP%]::placeholder{color:#aaa}.input-field[_ngcontent-%COMP%]:focus{outline:none;border-color:#009ba0}.input-field[_ngcontent-%COMP%]:focus::placeholder{color:transparent}.horisontal-container[_ngcontent-%COMP%]{display:flex;flex-direction:row}.dialog-save-button[_ngcontent-%COMP%]{position:absolute;bottom:10px;right:20px;padding:10px 20px;background-color:#fff;color:#252525;font-size:1rem;border-radius:5px;border:2px solid #009BA0;cursor:pointer;z-index:10}.dialog-save-button[_ngcontent-%COMP%]:hover{background-color:#cef8fa;box-shadow:0 4px 8px #0003}.dialog-save-button[_ngcontent-%COMP%]:active{background-color:#009ba0;color:#fff}.dialog-save-button[_ngcontent-%COMP%]:disabled{border:2px solid #801D1A}.dialog-delete-button[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:20px;padding:10px 20px;background-color:#fff;color:#252525;font-size:1rem;border-radius:5px;border:2px solid #801D1A;cursor:pointer;z-index:10}.dialog-delete-button[_ngcontent-%COMP%]:hover{background-color:#e3a3a9}.dialog-delete-button[_ngcontent-%COMP%]:active{background-color:#801d1a;color:#fff}.checkbox-wrapper[_ngcontent-%COMP%]{margin-left:5px;padding-top:7px}.textarea-description[_ngcontent-%COMP%]:focus{outline:none;border-color:#009ba0}.textarea-description[_ngcontent-%COMP%]::placeholder{color:transparent}.textarea-description[_ngcontent-%COMP%]{margin-top:10px;width:89%;height:auto;padding:10px;margin-right:5px;border:1px solid #ccc;border-radius:6px;font-size:1rem;transition:border-color .3s ease}.description[_ngcontent-%COMP%]{margin-top:10px;width:90%;height:auto;font-size:1rem;margin-right:10px;white-space:pre-line;word-break:break-word}.input-sidebar[_ngcontent-%COMP%]{display:grid;grid-template-columns:20% 70% 10%;gap:5px;margin-bottom:10px}.property-name[_ngcontent-%COMP%], .property-value[_ngcontent-%COMP%]{white-space:normal;word-break:break-word}.add-property-button[_ngcontent-%COMP%]{width:100%;margin-left:5px;padding:10px;background-color:#fff;color:#252525;font-size:1rem;border-radius:5px;border:2px solid #009BA0;cursor:pointer;z-index:10}.add-property-button[_ngcontent-%COMP%]:hover{background-color:#cef8fa;box-shadow:0 4px 8px #0003}.add-property-button[_ngcontent-%COMP%]:active{background-color:#009ba0;color:#fff}"]});let r=t;return r})();var Zr=["scrollableEcu"],Xr=["line"];function qr(r,t){if(r&1){let n=y();c(0,"div",31),f("click",function(){let i=p(n).$implicit,o=d(2);return g(o.selectServiceForShowDataStreams(i))}),m(1),a()}if(r&2){let n=t.$implicit;h(),N(" ",n.name," ")}}function Qr(r,t){if(r&1&&(c(0,"div",29),x(1,qr,2,1,"div",30),a()),r&2){let n=d();h(),_("ngForOf",n.servicesOfSelectedEcu)}}function Jr(r,t){if(r&1){let n=y();c(0,"div",32),f("cdkDragEnded",function(i){let o=p(n).$implicit,s=d();return g(s.handleDragMoved(i,o))})("cdkDragMoved",function(i){let o=p(n).$implicit,s=d();return g(s.handleDragMoved(i,o))})("dblclick",function(){let i=p(n).$implicit,o=d();return g(o.openServiceDetailsDialog(i))})("click",function(i){let o=p(n).$implicit,s=d();return g(s.onEcuClick(o,i))}),c(1,"div",33),m(2),a(),c(3,"div",34),m(4,"S"),a()()}if(r&2){let n=t.$implicit;le("transform","translateX("+n.positionX+"px) translateY("+n.positionY+"px)"),_("id",n.id),oe("serviceId",n.id),h(2),P(n.name+"|"+n.id)}}function eo(r,t){if(r&1){let n=y();c(0,"div",32,1),f("cdkDragEnded",function(i){let o=p(n).$implicit,s=d(3);return g(s.handleDragMoved(i,o))})("cdkDragMoved",function(i){let o=p(n).$implicit,s=d(3);return g(s.handleDragMoved(i,o))})("dblclick",function(){let i=p(n).$implicit,o=d(3);return g(o.openServiceDetailsDialog(i))})("click",function(i){let o=p(n).$implicit,s=d(3);return g(s.onEcuClick(o,i))}),c(2,"div",33),m(3),a(),c(4,"div",34),m(5,"S"),a()()}if(r&2){let n=t.$implicit;le("transform","translateX("+n.positionX+"px) translateY("+n.positionY+"px)"),_("id",n.id),oe("serviceId",n.id),h(3),P(n.name+"|"+n.id)}}function to(r,t){if(r&1&&(c(0,"div")(1,"div",36)(2,"h4",15),m(3),a(),c(4,"div",16),x(5,eo,6,5,"div",17),a()()()),r&2){let n=d().$implicit,e=d();h(3),P(n.label+"|"+n.id),h(),le("zoom",e.zoomLevel),bt("id","drag-boundary-",n.id,""),h(),_("ngForOf",e.servicesMap.get(n.id))}}function io(r,t){if(r&1&&(c(0,"div"),x(1,to,6,6,"div",35),a()),r&2){let n=t.$implicit,e=d();h(),_("ngIf",e.serviceData.dialogData.canReach(e.selectedEcu.id.toString(),n.id.toString())&&n.type=="ECU")}}function no(r,t){if(r&1){let n=y();me(),c(0,"line",37),f("dblclick",function(){let i=p(n).$implicit,o=d();return g(o.openDataStreamDetails(i))}),a()}if(r&2){let n=t.$implicit;oe("marker-start",n.twoWayConnection===!0?"url(#arrowhead)":"")("x1",n.positionFromX)("y1",n.positionFromY)("x2",n.positionToX)("y2",n.positionToY)("connectedFrom",n.connectedFrom)("connectedTo",n.connectedTo)("dataStreamId",n.id)}}function ro(r,t){if(r&1){let n=y();me(),c(0,"line",38),f("dblclick",function(){let i=p(n).$implicit,o=d();return g(o.openDataStreamDetails(i))}),a()}if(r&2){let n=t.$implicit;oe("x1",n.positionFromX)("y1",n.positionFromY)("x2",n.positionToX)("y2",n.positionToY)("connectedFrom",n.connectedFrom)("connectedTo",n.connectedTo)}}function oo(r,t){if(r&1&&w(0,"app-create-service-infrastructure-dialog",39),r&2){let n=d();_("createServiceDialogData",n.dataFromServicesDashbord)}}function so(r,t){if(r&1&&w(0,"app-data-stream-dialog",40),r&2){let n=d();_("dataStreamsData",n.dataFromServicesDashbord)}}function ao(r,t){if(r&1&&w(0,"app-service-dialog",41),r&2){let n=d();_("serviceDetilsData",n.dataFromServicesDashbord)}}var vn=(()=>{let t=class t{setSenderRecieverStylesOnDataStreams(){console.log(228),this.dataStreams.forEach((e,i)=>{let o=this.el.nativeElement.querySelector(`[dataStreamId="${e.id}"]`);o&&(o.style.cssText+="marker-start: url(#arrowhead)"),console.log(o)})}goBack(){this.serviceData.showService=!1,this.serviceData.dialogData.showHardwareDetailsDialogContent=!0}openServiceDetailsDialog(e){this.updateCurrentState(),this.serviceService.setSelectedService(e)}constructor(e,i,o,s,l,u){this.architectureService=e,this.serviceService=i,this.renderer=o,this.el=s,this.hardwareService=l,this.lineCreationService=u,this.serviceData=null,this.dataFromServicesDashbord=this,this.showDataStreamDialog=!1,this.dataForServiceDialog=this,this.zoomLevel=1,this.selectedService=null,this.selectedArchitecture=null,this.selectedEcu=null,this.hardwares=[],this.servicesMap=new Map,this.dataStreams=[],this.ServiceWidth=44,this.ServiceHeight=56,this.startEcu=null,this.endEcu=null,this.previousScrollY=0,this.showDropdown=!1,this.servicesOfSelectedEcu=[],this.options=[],this.selectedOption=null,this.showCreateServiceDialog=!1,this.creatingDatastreamModus=!1}rewriteLine(e){var o=this.el.nativeElement.querySelector(`[serviceId="${e.id}"]`).getBoundingClientRect(),s;debugger;this.servicesMap.forEach((F,B)=>{for(let Ae=0;Ae<F.length;Ae++)F[Ae].id===e.id&&(s=B,console.log(s))});let u=document.getElementById(`drag-boundary-${s}`).getBoundingClientRect();var v=u.left,C=u.top;let G=document.getElementById("horisontal-wrapper").getBoundingClientRect();var ie=G.left,ne=G.top;if(this.zoomLevel===1)for(let F=0;F<this.dataStreams.length;F++)this.dataStreams[F].connectedFrom===e.id.toString()?(console.log(this.dataStreams[F]),this.dataStreams[F].positionFromX=(e.positionX+this.ServiceWidth/2+v-ie-2).toString(),this.dataStreams[F].positionFromY=(e.positionY+this.ServiceHeight/2+C-ne-5).toString()):this.dataStreams[F].connectedTo===e.id.toString()&&(this.dataStreams[F].positionToX=(e.positionX+this.ServiceWidth/2+v-ie-2).toString(),this.dataStreams[F].positionToY=(e.positionY+this.ServiceHeight/2+C-ne-5).toString());else if(this.zoomLevel===2)for(let F=0;F<this.dataStreams.length;F++)this.dataStreams[F].connectedFrom===e.id.toString()?(this.dataStreams[F].positionFromX=(e.positionX+this.ServiceWidth/2+v-ie+38).toString(),this.dataStreams[F].positionFromY=(e.positionY+this.ServiceHeight/2+C-ne+28).toString()):this.dataStreams[F].connectedTo===e.id.toString()&&(this.dataStreams[F].positionToX=(e.positionX+this.ServiceWidth/2+v-ie+38).toString(),this.dataStreams[F].positionToY=(e.positionY+this.ServiceHeight/2+C-ne+28).toString())}handleDragMoved(e,i){this.setElementPosition(e,i),this.rewriteLine(i)}setElementPosition(e,i){let o=e.source.getRootElement(),s=o.getBoundingClientRect(),l=this.getElementPosition(o.parentElement);i.positionX=s.x-l.left,i.positionY=s.y-l.top}getElementPosition(e){let i=e.getBoundingClientRect(),o=window.scrollY||document.documentElement.scrollTop||document.body.scrollTop||0,s=window.scrollX||document.documentElement.scrollLeft||document.body.scrollLeft||0;return{top:i.top+o,left:i.left+s}}zoomIn(){this.zoomLevel===1&&(this.zoomLevel+=1),this.getDataStreams(this.selectedArchitecture.id)}zoomOut(){this.zoomLevel!==1&&(this.zoomLevel-=1,this.getDataStreams(this.selectedArchitecture.id))}subscribeOnSelectedService(){this.serviceService.selectedService$.subscribe({next:e=>{this.selectedService=e},error:e=>{console.error(e)}})}subscribeOnSelectedArchitecture(){this.architectureService.selectedArchitecture$.subscribe({next:e=>{this.selectedArchitecture=e},error:e=>{console.error(e)}})}subscribeOnSelectedHardware(){this.hardwareService.selectedHardware$.subscribe({next:e=>{this.selectedEcu=e},error:e=>{console.error(e)}})}subscribeOnHardwares(){this.hardwareService.hardwares$.subscribe({next:e=>{this.hardwares=e},error:e=>{console.error(e)}})}subscribeOnServices(){this.serviceService.allServicesInArchitectureMap$.subscribe({next:e=>{this.servicesMap=e},error:e=>{console.error(e)}})}subscribeOnServicesOfSelectedEcu(){this.serviceService.services$.subscribe({next:e=>{this.servicesOfSelectedEcu=e},error:e=>{console.error(e)}})}subscribeOnDataStreams(){this.lineCreationService.dataStreams$.subscribe({next:e=>{this.dataStreams=e},error:e=>{console.error(e)}})}ngOnInit(){this.subscribeOnDataStreams(),this.subscribeOnSelectedService(),this.subscribeOnSelectedArchitecture(),this.subscribeOnServices(),this.subscribeOnServicesOfSelectedEcu(),this.subscribeOnSelectedHardware(),this.subscribeOnHardwares(),this.scrollableEcu.nativeElement.addEventListener("scroll",this.onElementScroll.bind(this)),this.getDataStreams(this.selectedArchitecture.id)}ngAfterViewInit(){console.log("228:           ",this.lines),this.setSenderRecieverStylesOnDataStreams()}getGradientForLine(e,i){return e==="sender"&&i==="receiver"?"url(#sender-reciever)":e==="receiver"&&i==="sender"?"url(#reciever-sender)":"none"}getDataStreams(e){this.lineCreationService.getAllDataStreams(e).subscribe({next:i=>{this.selectedOption?this.getDataStreamsOfSelectdService(i):(this.dataStreams=i,this.rewriteAllDataStreams()),this.lineCreationService.setDataStreams(this.dataStreams)},error:i=>{console.error("Error geting Data Stream",i)}})}onEcuClick(e,i){if(this.creatingDatastreamModus){if(this.startEcu){if(!this.endEcu){if(this.endTargetEcuElementNewBus=i.target,this.renderer.addClass(this.endTargetEcuElementNewBus,"selected"),this.endEcu=e,console.log("Selected end ECU:",this.endEcu),this.startEcu!==this.endEcu){var o=i.target.getBoundingClientRect();let u={name:"Data Stream "+(this.dataStreams.length+1),type:"Data Stream",description:"default description",positionFromX:this.startLinePsition.left.toString(),positionFromY:(this.startLinePsition.top-this.ServiceHeight/2/this.zoomLevel).toString(),positionToX:o.left.toString(),positionToY:(o.top-this.ServiceHeight/2/this.zoomLevel).toString(),connectedFrom:this.startEcu.id.toString(),connectedTo:this.endEcu.id.toString(),twoWayConnection:!1};this.lineCreationService.createDataStream(this.selectedArchitecture.id,u).subscribe(v=>{this.getDataStreams(this.selectedArchitecture.id)}),console.log("New line created:",u)}else console.log("Start and end ECUs cannot be the same");this.startEcu=null,this.endEcu=null,this.creatingDatastreamModus=!1,setTimeout(()=>{this.renderer.removeClass(this.startTargetEcuElementNewBus,"selected"),this.renderer.removeClass(this.endTargetEcuElementNewBus,"selected")},1e3)}}else{this.startTargetEcuElementNewBus=i.target,this.renderer.addClass(this.startTargetEcuElementNewBus,"selected"),this.startEcu=e;var o=i.target.getBoundingClientRect();this.startLinePsition=o,console.log("Selected start ECU:",this.startEcu)}console.log("Creating a line between ECUs")}else console.log("default ecu click")}onElementScroll(){let i=this.scrollableEcu.nativeElement.scrollTop;for(let o of this.dataStreams){let s=!0,l=!0;for(let u of this.servicesOfSelectedEcu)o.connectedFrom==u.id.toString()&&(s=!1),o.connectedTo==u.id.toString()&&(l=!1);this.zoomLevel===1?(s&&(o.positionFromY=(Number(o.positionFromY)-(i-this.previousScrollY)).toString()),l&&(o.positionToY=(Number(o.positionToY)-(i-this.previousScrollY)).toString())):this.zoomLevel===2&&(s&&(o.positionFromY=(Number(o.positionFromY)-.5*(i-this.previousScrollY)).toString()),l&&(o.positionToY=(Number(o.positionToY)-.5*(i-this.previousScrollY)).toString()))}this.previousScrollY=i,this.lineCreationService.setDataStreams(this.dataStreams)}getLinesForServise(e){}updateCurrentState(){console.log(this.hardwares);for(let i=0;i<this.hardwares.length;++i){var e=this.servicesMap.get(this.hardwares[i].id);console.log("services: ",e);for(let o=0;o<e.length;o++)this.serviceService.updadeService(e[o],e[o].id)}for(let i=0;i<this.dataStreams.length;i++)this.updateDataStream(this.dataStreams[i],this.dataStreams[i].id)}updateDataStream(e,i){this.lineCreationService.updateDataStream(e,i).subscribe()}toggleDropdownServiceForShowDataStreams(){this.updateCurrentState(),this.servicesOfSelectedEcu=this.servicesMap.get(this.selectedEcu.id),this.showDropdown=!this.showDropdown}selectServiceForShowDataStreams(e){e?(this.selectedOption=e,this.dataStreams=[],this.getDataStreams(this.selectedArchitecture.id)):this.selectedOption=null,console.log("segergergerg:    ",this.selectedOption),this.showDropdown=!1}getDataStreamsOfSelectdService(e){var i=[],o=[];for(let s=0;s<e.length;s++)if(e[s].connectedFrom==this.selectedOption.id){i.push(e[s]);let l=this.el.nativeElement.querySelector(`[serviceId="${Number(e[s].connectedTo)}"]`);o.push(l)}else if(e[s].connectedTo==this.selectedOption.id){i.push(e[s]);let l=this.el.nativeElement.querySelector(`[serviceId="${Number(e[s].connectedFrom)}"]`);o.push(l)}console.log("0000000000:  ",i),this.dataStreams=i;for(let s=0;s<o.length;s++)this.rewriteLine(o[s]);this.rewriteLine(this.selectedOption)}rewriteAllDataStreams(){this.servicesMap.forEach((e,i)=>{for(let o=0;o<e.length;o++)this.rewriteLine(e[o])})}selectAllServices(){this.updateCurrentState(),this.selectedService=null,this.selectedOption=null,this.getDataStreams(this.selectedArchitecture.id)}openDataStreamDetails(e){this.updateCurrentState(),this.selectedDataStream=e,this.showDataStreamDialog=!0}openCreateServiceDialog(){this.updateCurrentState(),this.showCreateServiceDialog=!0}openCreateDatastreamDialog(){this.updateCurrentState(),this.creatingDatastreamModus=!0}};t.\u0275fac=function(i){return new(i||t)(b(W),b(ue),b(ge),b(re),b(J),b(ce))},t.\u0275cmp=k({type:t,selectors:[["app-service"]],viewQuery:function(i,o){if(i&1&&(Ye(Zr,7),Ye(Xr,5)),i&2){let s;Ke(s=Ze())&&(o.scrollableEcu=s.first),Ke(s=Ze())&&(o.lines=s)}},inputs:{serviceData:"serviceData"},decls:41,vars:16,consts:[["scrollableEcu",""],["draggableItem",""],[1,"back-button",3,"click"],[1,"create-service-button",3,"click"],[1,"create-datastream-button",3,"click"],["tabindex","0",1,"dropdown-container",3,"blur"],[1,"dropdown-display",3,"click"],["class","dropdown-menu",4,"ngIf"],[1,"select-all-services-button",3,"click"],[1,"service-save-button",3,"click"],[1,"zoom-button-set"],[1,"zoom-button",3,"click"],[1,"main-screen"],["id","horisontal-wrapper",1,"horisontal-wrapper"],[1,"ecu"],[1,"ecu-name"],[1,"drag-boundary",3,"id"],["cdkDrag","","cdkDragBoundary",".drag-boundary","class","draggable-item",3,"transform","id","cdkDragEnded","cdkDragMoved","dblclick","click",4,"ngFor","ngForOf"],["id","myElement",1,"ecu",2,"overflow","scroll"],[4,"ngFor","ngForOf"],["id","svg-container",1,"connestion-line-container"],["id","arrowhead","refX","30","refY","2.5","markerWidth","12","markerHeight","5","orient","auto-start-reverse"],["points","0 0, 12 2.5, 0 5","fill","black"],["id","arrow","refX","30","refY","2.5","markerWidth","12","markerHeight","5","orient","auto-start-reverse"],["class","connestion-line","marker-end","url(#arrow)",3,"dblclick",4,"ngFor","ngForOf"],["class","connestion-line-overlay",3,"dblclick",4,"ngFor","ngForOf"],[3,"createServiceDialogData",4,"ngIf"],[3,"dataStreamsData",4,"ngIf"],[3,"serviceDetilsData",4,"ngIf"],[1,"dropdown-menu"],["class","dropdown-item",3,"click",4,"ngFor","ngForOf"],[1,"dropdown-item",3,"click"],["cdkDrag","","cdkDragBoundary",".drag-boundary",1,"draggable-item",3,"cdkDragEnded","cdkDragMoved","dblclick","click","id"],[1,"label-draggable-item"],[1,"content-draggable-item"],[4,"ngIf"],[1,"ecu1"],["marker-end","url(#arrow)",1,"connestion-line",3,"dblclick"],[1,"connestion-line-overlay",3,"dblclick"],[3,"createServiceDialogData"],[3,"dataStreamsData"],[3,"serviceDetilsData"]],template:function(i,o){if(i&1){let s=y();c(0,"button",2),f("click",function(){return p(s),g(o.goBack())}),m(1,"<"),a(),c(2,"button",3),f("click",function(){return p(s),g(o.openCreateServiceDialog())}),m(3,"Create Service"),a(),c(4,"button",4),f("click",function(){return p(s),g(o.openCreateDatastreamDialog())}),m(5,"Create Datastream"),a(),c(6,"div",5),f("blur",function(){return p(s),g(o.showDropdown=!1)}),c(7,"div",6),f("click",function(){return p(s),g(o.toggleDropdownServiceForShowDataStreams())}),m(8),a(),x(9,Qr,2,1,"div",7),a(),c(10,"button",8),f("click",function(){return p(s),g(o.selectAllServices())}),m(11,"Select all Services"),a(),c(12,"button",9),f("click",function(){return p(s),g(o.updateCurrentState())}),m(13,"Save"),a(),c(14,"div",10)(15,"button",11),f("click",function(){return p(s),g(o.zoomIn())}),m(16,"+"),a(),c(17,"button",11),f("click",function(){return p(s),g(o.zoomOut())}),m(18,"-"),a()(),c(19,"div",12)(20,"div",13)(21,"div",14)(22,"h4",15),m(23),a(),c(24,"div",16),x(25,Jr,5,5,"div",17),a()(),c(26,"div",18,0),x(28,io,2,1,"div",19),a(),me(),c(29,"svg",20)(30,"defs")(31,"marker",21),w(32,"polygon",22),a()(),c(33,"defs")(34,"marker",23),w(35,"polygon",22),a()(),x(36,no,1,8,"line",24)(37,ro,1,6,"line",25),a()()(),x(38,oo,1,1,"app-create-service-infrastructure-dialog",26)(39,so,1,1,"app-data-stream-dialog",27)(40,ao,1,1,"app-service-dialog",28)}i&2&&(h(8),N(" ",(o.selectedOption==null?null:o.selectedOption.name)||"Select Service"," "),h(),_("ngIf",o.showDropdown),h(14),P(o.selectedEcu.label+"|"+o.selectedEcu.id),h(),le("zoom",o.zoomLevel),bt("id","drag-boundary-",o.selectedEcu.id,""),h(),_("ngForOf",o.servicesMap.get(o.selectedEcu.id)),h(3),_("ngForOf",o.hardwares),h(),le("zoom",o.zoomLevel),h(7),_("ngForOf",o.dataStreams),h(),_("ngForOf",o.dataStreams),h(),_("ngIf",o.showCreateServiceDialog),h(),_("ngIf",o.showDataStreamDialog),h(),_("ngIf",o.selectedService))},dependencies:[se,U,nt,pn,mn,_n],styles:['@charset "UTF-8";.sender-receiver-gradient[_ngcontent-%COMP%]{background-image:linear-gradient(to right,#0800ff,red)}.main-screen[_ngcontent-%COMP%]{height:100%;background-color:#f5f5f5;display:flex;flex-direction:column;align-items:center;justify-content:center;box-sizing:border-box;overflow:hidden;position:relative}.horisontal-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%;height:100%;position:absolute}.ecu[_ngcontent-%COMP%]{flex:1;max-width:49%;border:2px solid black;display:flex;flex-direction:column;height:100%;position:relative;box-sizing:border-box;overflow-y:auto}.ecu1[_ngcontent-%COMP%]{display:flex;flex-direction:column;border-bottom:2px solid black;box-sizing:border-box;height:300px;position:relative}.ecu-name[_ngcontent-%COMP%]{border-bottom:2px solid black;margin:0;padding:2px;box-sizing:border-box;background-color:#fff}.drag-boundary[_ngcontent-%COMP%]{height:100%;width:100%}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:5px;box-shadow:0 5px 5px #0003}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.draggable-item[_ngcontent-%COMP%]{position:absolute;background-color:transparent;width:40px;height:40px;cursor:move;display:flex;flex-direction:column;align-items:flex-start;overflow:hidden;z-index:2}.label-draggable-item[_ngcontent-%COMP%]{height:10px;width:100%;font-weight:700;margin-bottom:2px;font-size:8px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.content-draggable-item[_ngcontent-%COMP%]{background-color:#fff;border:2px solid #ccc;width:100%;height:100%;text-align:center;box-sizing:border-box;display:flex;justify-content:center;align-items:center;font-size:.7rem}.connestion-line-container[_ngcontent-%COMP%]{width:99%;height:97%;position:absolute;z-index:1}.connestion-line[_ngcontent-%COMP%]{stroke:#000;stroke-width:1}.connestion-line[_ngcontent-%COMP%]:hover{cursor:pointer}.connestion-line-overlay[_ngcontent-%COMP%]{stroke-width:20px;stroke:transparent}.connestion-line-overlay[_ngcontent-%COMP%]:hover{cursor:pointer}.zoom-button-set[_ngcontent-%COMP%]{position:absolute;top:45px;left:0;display:flex;flex-direction:column;z-index:100}.zoom-button[_ngcontent-%COMP%]{width:30px;margin:5px;padding:5px;background-color:#fff;color:#252525;font-size:1rem;border-radius:5px;border:2px solid #009BA0;cursor:pointer}.selected[_ngcontent-%COMP%]{background-color:green!important}.service-save-button[_ngcontent-%COMP%]{position:absolute;top:5px;right:100px;margin-right:10px;padding:10px 20px;background-color:#fff;color:#252525;font-size:1rem;border-radius:5px;border:2px solid #009BA0;cursor:pointer;z-index:10}.service-save-button[_ngcontent-%COMP%]:hover{background-color:#cef8fa;box-shadow:0 4px 8px #0003}.service-save-button[_ngcontent-%COMP%]:active{background-color:#009ba0;color:#fff}.dropdown-container[_ngcontent-%COMP%]{position:absolute;top:5px;left:375px;border:2px solid transparent;width:200px;cursor:pointer;background-color:#fff;z-index:999}.dropdown-display[_ngcontent-%COMP%]{padding:10px;color:#252525;display:flex;align-items:center;justify-content:space-between;z-index:999}.dropdown-menu[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;right:0;background:#fff;border-top:none;z-index:1000;max-height:200px;overflow-y:auto;box-shadow:0 2px 4px #0000001a;z-index:999}.dropdown-item[_ngcontent-%COMP%]{padding:10px;border-bottom:1px solid #eee;cursor:pointer;border-bottom:1px solid #801D1A;z-index:999}.dropdown-item[_ngcontent-%COMP%]:hover{background-color:#f0f0f0;z-index:999}.dropdown-display[_ngcontent-%COMP%]:after{content:"\\25bc";font-size:.8em;margin-left:5px;z-index:999}.dropdown-container[_ngcontent-%COMP%]:hover, .move-button[_ngcontent-%COMP%]:hover, .search-field[_ngcontent-%COMP%]:hover, .filter-field[_ngcontent-%COMP%]:hover{border-bottom-color:#801d1a}.dropdown-container[_ngcontent-%COMP%]:focus, .move-button[_ngcontent-%COMP%]:hover, .search-field[_ngcontent-%COMP%]:focus, .filter-field[_ngcontent-%COMP%]:focus{outline:none;border-bottom-color:#801d1a}.select-all-services-button[_ngcontent-%COMP%]{position:absolute;top:5px;left:585px;margin-right:10px;padding:10px 20px;background-color:#fff;color:#252525;font-size:1rem;border-radius:5px;border:2px solid #009BA0;cursor:pointer;z-index:10}.select-all-services-button[_ngcontent-%COMP%]:hover{background-color:#cef8fa;box-shadow:0 4px 8px #0003}.select-all-services-button[_ngcontent-%COMP%]:active{background-color:#009ba0;color:#fff}.back-button[_ngcontent-%COMP%]{position:absolute;top:5px;left:5px;padding:10px 8px;background-color:#fff;color:#252525;font-size:1rem;border-radius:5px;border:2px solid #801D1A;cursor:pointer;z-index:10}.back-button[_ngcontent-%COMP%]:hover{background-color:#e3a3a9;box-shadow:0 4px 8px #0003}.back-button[_ngcontent-%COMP%]:active{background-color:#801d1a;color:#fff}.create-service-button[_ngcontent-%COMP%]{position:absolute;top:5px;left:37px;margin-right:10px;padding:10px 20px;background-color:#fff;color:#252525;font-size:1rem;border-radius:5px;border:2px solid #009BA0;cursor:pointer;z-index:9999}.create-service-button[_ngcontent-%COMP%]:hover{background-color:#cef8fa;box-shadow:0 4px 8px #0003}.create-service-button[_ngcontent-%COMP%]:active{background-color:#009ba0;color:#fff}.create-datastream-button[_ngcontent-%COMP%]{position:absolute;top:5px;left:190px;margin-right:10px;padding:10px 20px;background-color:#fff;color:#252525;font-size:1rem;border-radius:5px;border:2px solid #009BA0;cursor:pointer;z-index:9999}.create-datastream-button[_ngcontent-%COMP%]:hover{background-color:#cef8fa;box-shadow:0 4px 8px #0003}.create-datastream-button[_ngcontent-%COMP%]:active{background-color:#009ba0;color:#fff}']});let r=t;return r})();function lo(r,t){if(r&1){let n=y();O(0),c(1,"h3",17),m(2),a(),c(3,"button",18),f("click",function(){p(n);let i=d(2);return g(i.editName())}),w(4,"i",19),a(),A()}if(r&2){let n=d(2);h(2),P(n.selectedEcu.label)}}function ho(r,t){if(r&1){let n=y();O(0),c(1,"div",20)(2,"input",21),M("ngModelChange",function(i){p(n);let o=d(2);return E(o.selectedEcu.label,i)||(o.selectedEcu.label=i),g(i)}),a()(),c(3,"div",22)(4,"button",18),f("click",function(){p(n);let i=d(2);return g(i.canselEditingName())}),w(5,"i",23),a(),c(6,"button",18),f("click",function(){p(n);let i=d(2);return g(i.saveName())}),w(7,"i",24),a()(),A()}if(r&2){let n=d(2);h(2),D("ngModel",n.selectedEcu.label)}}function uo(r,t){if(r&1){let n=y();c(0,"div",25)(1,"button",15),f("click",function(){p(n);let i=d(2);return g(i.openDialog())}),m(2,"To Services"),a()()}}function po(r,t){if(r&1){let n=y();O(0),c(1,"h4",9),m(2,"Description:"),a(),c(3,"div",6)(4,"textarea",26),M("ngModelChange",function(i){p(n);let o=d(2);return E(o.selectedEcu.description,i)||(o.selectedEcu.description=i),g(i)}),m(5),a(),c(6,"div",22)(7,"button",18),f("click",function(){p(n);let i=d(2);return g(i.canselEditingDescription())}),w(8,"i",23),a(),c(9,"button",18),f("click",function(){p(n);let i=d(2);return g(i.saveDescription())}),w(10,"i",24),a()()(),A()}if(r&2){let n=d(2);h(4),D("ngModel",n.selectedEcu.description),h(),P(n.selectedEcu.description)}}function go(r,t){if(r&1){let n=y();O(0),c(1,"div",6)(2,"h4",9),m(3,"Description:"),a(),c(4,"button",18),f("click",function(){p(n);let i=d(2);return g(i.editDescription())}),w(5,"i",19),a()(),c(6,"p",27),m(7),a(),A()}if(r&2){let n=d(2);h(7),P(n.selectedEcu.description)}}function mo(r,t){if(r&1){let n=y();O(0),c(1,"span",29),m(2),a(),c(3,"span",30),m(4),a(),c(5,"div",6)(6,"button",31),f("click",function(){p(n);let i=d().$implicit,o=d(2);return g(o.editProperty(i))}),w(7,"i",19),a(),c(8,"button",31),f("click",function(){p(n);let i=d().$implicit,o=d(2);return g(o.deleteProperty(i))}),w(9,"i",32),a()(),A()}if(r&2){let n=d().$implicit;h(2),N("",n.name,":"),h(2),P(n.value),h(2),de("id",n.id),h(2),de("id",n.id)}}function fo(r,t){if(r&1){let n=y();O(0),c(1,"input",21),M("ngModelChange",function(i){p(n);let o=d().$implicit;return E(o.name,i)||(o.name=i),g(i)}),a(),c(2,"input",21),M("ngModelChange",function(i){p(n);let o=d().$implicit;return E(o.value,i)||(o.value=i),g(i)}),a(),c(3,"div",22)(4,"button",18),f("click",function(){p(n);let i=d(3);return g(i.canselEditingProperty())}),w(5,"i",23),a(),c(6,"button",18),f("click",function(){p(n);let i=d().$implicit,o=d(2);return g(o.saveProperty(i))}),w(7,"i",24),a()(),A()}if(r&2){let n=d().$implicit;h(),D("ngModel",n.name),h(),D("ngModel",n.value)}}function _o(r,t){if(r&1&&(c(0,"li",28),x(1,mo,10,4,"ng-container",7)(2,fo,8,2,"ng-container",7),a()),r&2){let n=t.$implicit,e=d(2);h(),_("ngIf",n.id!==e.hardwarePropertyId),h(),_("ngIf",n.id===e.hardwarePropertyId)}}function vo(r,t){if(r&1){let n=y();c(0,"div",5)(1,"div",6),x(2,lo,5,1,"ng-container",7)(3,ho,8,1,"ng-container",7)(4,uo,3,0,"div",8),a(),c(5,"div"),x(6,po,11,2,"ng-container",7)(7,go,8,1,"ng-container",7),a(),c(8,"div")(9,"h4",9),m(10,"Properties:"),a(),c(11,"ul",10),x(12,_o,3,2,"li",11),a()(),c(13,"div",12)(14,"input",13),M("ngModelChange",function(i){p(n);let o=d();return E(o.hardwareKey,i)||(o.hardwareKey=i),g(i)}),a(),c(15,"input",14),M("ngModelChange",function(i){p(n);let o=d();return E(o.hardwareValue,i)||(o.hardwareValue=i),g(i)}),a(),c(16,"button",15),f("click",function(){p(n);let i=d();return g(i.addHardwareValue())}),m(17,"Add Property"),a()(),c(18,"button",16),f("click",function(){p(n);let i=d();return g(i.delete())}),m(19,"Delete"),a()()}if(r&2){let n=d();h(2),_("ngIf",!n.nameEditMod),h(),_("ngIf",n.nameEditMod),h(),_("ngIf",n.selectedEcu.type=="ECU"),h(2),_("ngIf",n.descriptionEditMod),h(),_("ngIf",!n.descriptionEditMod),h(5),_("ngForOf",n.hardwareProperties),h(2),D("ngModel",n.hardwareKey),h(),D("ngModel",n.hardwareValue)}}function bo(r,t){if(r&1){let n=y();c(0,"app-service",33),f("dataStreamsTransport",function(i){p(n);let o=d();return g(o.getDataStreamsFromServiceComponent(i))}),a()}if(r&2){let n=d();_("serviceData",n.serviceDialogData)}}var bn=(()=>{let t=class t{constructor(e,i,o,s,l,u){this.architectureService=e,this.serviceService=i,this.hardwarePropertyService=o,this.hardwareService=s,this.lineCreationService=l,this.renderer=u,this.nameEditMod=!1,this.hardwarePropertyEditMod=!1,this.hardwarePropertyId=null,this.selectedEcu=null,this.dataStreams=[],this.selectedArchitecture=null,this.dialogData=null,this.closeDialog=new z,this.hardwareKey="",this.hardwareValue="",this.hardwareProperties=null,this.hardwares=[],this.showService=!1,this.serviceDialogData=this,this.dataForServiceDialog=this,this.showDataStreamDialog=!1,this.dataForDataStreamDetails=null,this.descriptionEditMod=!1}editName(){this.nameEditMod=!0}canselEditingName(){this.nameEditMod=!1}saveName(){this.hardwareService.updateHardware(this.selectedEcu,this.selectedEcu.id),this.nameEditMod=!1}editProperty(e){this.hardwarePropertyId=e.id}canselEditingProperty(){this.hardwarePropertyId=null}deleteProperty(e){this.hardwarePropertyService.deleteHardwareProperty(e.id,this.selectedEcu.id)}saveProperty(e){this.hardwarePropertyService.updateHardwareProperty(e,e.id,this.selectedEcu.id),this.hardwarePropertyId=null}editDescription(){this.descriptionEditMod=!0,setTimeout(()=>{this.autoResizeTextarea()},50)}autoResizeTextarea(){let e=document.getElementById("textarea-description");e&&(e.style.height=e.scrollHeight+"px")}saveDescription(){this.hardwareService.updateHardware(this.selectedEcu,this.selectedEcu.id),this.descriptionEditMod=!1}canselEditingDescription(){this.descriptionEditMod=!1}ngOnInit(){this.subscribeOnSelectedArchitecture(),this.subscribeOnHardwareProperties(),this.subscribeOnSelectedHardware(),this.subscribeOnHardwares(),this.subscribeOnDataStreams()}subscribeOnDataStreams(){this.lineCreationService.dataStreams$.subscribe({next:e=>{this.dataStreams=e},error:e=>{console.error(e)}})}subscribeOnSelectedArchitecture(){this.architectureService.selectedArchitecture$.subscribe({next:e=>{this.selectedArchitecture=e},error:e=>{console.error(e)}})}close(){this.closeDialog.emit(!0),this.dialogData.showDataStreamDialog=!1}delete(){var e=[];for(let o=0;o<this.dialogData.connections.length;o++)this.dialogData.connections[o].connectedFrom==this.selectedEcu.id.toString()?(e.push(this.dialogData.connections[o].id),this.deleteBus(this.dialogData.connections[o].id)):this.dialogData.connections[o].connectedTo==this.selectedEcu.id.toString()&&(e.push(this.dialogData.connections[o].id),this.deleteBus(this.dialogData.connections[o].id));this.hardwareService.deleteHardware(this.selectedEcu.id);for(let o=0;o<e.length;o++)this.dialogData.connections=this.dialogData.connections.filter(s=>s.id!=e[o]);var i=this.serviceService.servicesMap.get(this.selectedEcu.id);if(i)for(let o=0;o<i.length;o++)for(let s=0;s<this.dataStreams.length;s++)(i[o].id.toString()==this.dataStreams[s].connectedFrom||i[o].id.toString()==this.dataStreams[s].connectedTo)&&this.lineCreationService.deleteDataStream(this.dataStreams[s].id).subscribe(l=>{});this.closeDialog.emit(!0)}deleteBus(e){this.lineCreationService.deleteBus(e).subscribe()}subscribeOnSelectedHardware(){this.hardwareService.selectedHardware$.subscribe({next:e=>{this.selectedEcu=e},error:e=>{console.error(e)}})}subscribeOnHardwares(){this.hardwareService.hardwares$.subscribe({next:e=>{this.hardwares=e},error:e=>{console.error(e)}})}addHardwareValue(){if(this.selectedEcu&&this.hardwareKey&&this.hardwareValue){let e={name:this.hardwareKey,value:this.hardwareValue};this.hardwarePropertyService.createHardwareProperty(e,this.selectedEcu.id),this.hardwareKey="",this.hardwareValue=""}}subscribeOnHardwareProperties(){this.hardwarePropertyService.hardwareProreries$.subscribe({next:e=>{this.hardwareProperties=e},error:e=>{console.error(e)}})}openDialog(){this.showService=!0,this.dialogData.showHardwareDetailsDialogContent=!1,this.serviceService.loadAllServices(this.dialogData.selectedEcu.id),this.dialogData.initializeGraph(this.dialogData.connections)}saveServices(){}getDataStreamsFromServiceComponent(e){this.dataForDataStreamDetails=e,console.log("data from services geted ",this.dataForDataStreamDetails)}};t.\u0275fac=function(i){return new(i||t)(b(W),b(ue),b(rt),b(J),b(ce),b(ge))},t.\u0275cmp=k({type:t,selectors:[["ecu-dialog"]],inputs:{dialogData:"dialogData"},outputs:{closeDialog:"closeDialog"},decls:6,vars:2,consts:[[1,"dialog-container"],[1,"dialog-content"],[1,"dialog-close-button",3,"click"],["class","hardware-content",4,"ngIf"],[3,"serviceData","dataStreamsTransport",4,"ngIf"],[1,"hardware-content"],[1,"horisontal-container"],[4,"ngIf"],["class","toServices-wrapper",4,"ngIf"],[1,"ecu-properties-header"],[1,"hardware-properties-list"],["class","hardware-property",4,"ngFor","ngForOf"],[1,"input-sidebar"],["type","text","placeholder","Property",1,"input-field",3,"ngModelChange","ngModel"],["type","text","placeholder","Description",1,"input-field",3,"ngModelChange","ngModel"],[1,"green-button",3,"click"],[1,"dialog-delete-button",3,"click"],[1,"ecu-details-header"],[1,"manipulation-button",3,"click"],[1,"fas","fa-edit","fa-lg"],[1,"input-name-wrapper"],[1,"input-field",3,"ngModelChange","ngModel"],[1,"vertical-container"],[1,"fas","fa-times","fa-lg"],[1,"fas","fa-save","fa-lg"],[1,"toServices-wrapper"],["id","textarea-description","type","text",1,"textarea-description",3,"ngModelChange","ngModel"],[1,"hardware-description"],[1,"hardware-property"],[1,"property-name"],[1,"property-value"],[1,"manipulation-button",3,"click","id"],[1,"fas","fa-trash","fa-lg"],[3,"dataStreamsTransport","serviceData"]],template:function(i,o){i&1&&(c(0,"div",0)(1,"div",1)(2,"button",2),f("click",function(){return o.close()}),m(3,"Close"),a(),x(4,vo,20,8,"div",3)(5,bo,1,1,"app-service",4),a()()),i&2&&(h(4),_("ngIf",o.dialogData.showHardwareDetailsDialogContent),h(),_("ngIf",o.showService))},dependencies:[se,U,$,ee,X,vn],styles:[".dialog-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:999}.dialog-content[_ngcontent-%COMP%]{position:relative;background-color:#fff;border-radius:10px;box-shadow:0 4px 8px #0000001a;padding:50px 30px 30px 40px;width:90%;height:85vh;margin:auto;text-align:left;animation:_ngcontent-%COMP%_slideIn .3s ease-out}.hardware-content[_ngcontent-%COMP%]{margin-top:-35px;margin-left:-10px}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translateY(-20px);opacity:0}to{transform:translateY(0);opacity:1}}.ecu-details-header[_ngcontent-%COMP%]{font-size:2.5rem;margin-top:10px;margin-bottom:10px;color:#555}.ecu-properties-header[_ngcontent-%COMP%]{font-size:1.5rem;margin-top:10px;margin-bottom:10px;color:#555}.hardware-properties-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin-top:10px}.hardware-property[_ngcontent-%COMP%]{font-size:1rem;color:#666;display:grid;grid-template-columns:20% 70% 10%;gap:5px;margin-bottom:10px}.property-name[_ngcontent-%COMP%], .property-value[_ngcontent-%COMP%]{white-space:normal;word-break:break-word}.input-name-wrapper[_ngcontent-%COMP%]{margin-bottom:10px}.input-sidebar[_ngcontent-%COMP%]{display:grid;grid-template-columns:20% 70% 10%;gap:5px;margin-bottom:10px}.input-field[_ngcontent-%COMP%]{padding:10px;border:1px solid #ccc;border-radius:6px;font-size:1rem;transition:border-color .3s ease}.input-field[_ngcontent-%COMP%]::placeholder{color:#aaa}.input-field[_ngcontent-%COMP%]:focus{outline:none;border-color:#009ba0}.input-field[_ngcontent-%COMP%]:focus::placeholder{color:transparent}.dialog-close-button[_ngcontent-%COMP%]{position:absolute;top:5px;right:20px;background-color:#fff;border:2px solid #801D1A;font-size:1rem;border-radius:6px;cursor:pointer;transition:background-color .3s ease;padding:10px 20px;z-index:10}.dialog-close-button[_ngcontent-%COMP%]:hover{background-color:#e3a3a9;box-shadow:0 4px 8px #0003}.dialog-close-button[_ngcontent-%COMP%]:active{background-color:#801d1a;color:#fff}.dialog-delete-button[_ngcontent-%COMP%]{position:absolute;bottom:10px;padding:10px 20px;border-radius:6px;cursor:pointer;background-color:#fff;border:2px solid #801D1A;font-size:1rem}.dialog-delete-button[_ngcontent-%COMP%]:hover{background-color:#e3a3a9;box-shadow:0 4px 8px #0003}.dialog-delete-button[_ngcontent-%COMP%]:active{background-color:#801d1a;color:#fff}.textarea-description[_ngcontent-%COMP%]:focus{outline:none;border-color:#009ba0}.textarea-description[_ngcontent-%COMP%]::placeholder{color:transparent}.textarea-description[_ngcontent-%COMP%]{width:89%;height:auto;padding:10px;margin-right:5px;border:1px solid #ccc;border-radius:6px;font-size:1rem;transition:border-color .3s ease}.hardware-description[_ngcontent-%COMP%]{width:90%;height:auto;font-size:1rem;margin-right:10px;white-space:pre-line;word-break:break-word}.manipulation-button[_ngcontent-%COMP%]{display:flex;justify-content:left;margin:0;padding:5px;background-color:transparent;border:0}.manipulation-button[_ngcontent-%COMP%]:hover{cursor:pointer}.manipulation-button[_ngcontent-%COMP%]:active{color:#009ba0}.green-button[_ngcontent-%COMP%]{margin-left:5px;padding:10px 20px;background-color:#fff;color:#252525;font-size:1rem;border-radius:5px;border:2px solid #009BA0;cursor:pointer;z-index:10}.green-button[_ngcontent-%COMP%]:hover{background-color:#cef8fa;box-shadow:0 4px 8px #0003}.green-button[_ngcontent-%COMP%]:active{background-color:#009ba0;color:#fff}.horisontal-container[_ngcontent-%COMP%]{display:flex;flex-direction:row}.vertical-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between}.toServices-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;margin-left:15px}"]});let r=t;return r})();function wo(r,t){if(r&1){let n=y();c(0,"div")(1,"h3"),m(2),a(),c(3,"h4"),m(4),a(),c(5,"h4"),m(6),a(),c(7,"h4"),m(8),a(),c(9,"button",4),f("click",function(){p(n);let i=d();return g(i.delete())}),m(10,"Delete"),a()()}if(r&2){let n=d();h(2),P(n.dialogData.selectedConnection.name),h(2),N("Description: ",n.dialogData.selectedConnection.description,""),h(2),N("Connected from: ",n.dialogData.selectedConnection.connectedFrom,""),h(2),N("Connected to: ",n.dialogData.selectedConnection.connectedTo,"")}}var Cn=(()=>{let t=class t{close(){this.closeDialog.emit(!0)}delete(){var e=this.dialogData.selectedConnection.connectedFrom,i=null,o=this.dialogData.selectedConnection.connectedTo,s=null;for(let l=0;l<this.dialogData.ecus.length;l++)this.dialogData.ecus[l].id==e&&(this.dialogData.ecus[l].connectedTo="",console.log(this.dialogData.ecus[l])),this.dialogData.ecus[l].id==o&&(this.dialogData.ecus[l].connectedTo="",console.log(this.dialogData.ecus[l]));this.dialogData.connections=this.dialogData.connections.filter(l=>l.id!==this.dialogData.selectedConnection.id),this.deleteBus(this.dialogData.selectedConnection.id),this.closeDialog.emit(!0)}constructor(e){this.lineCreationService=e,this.dialogData=null,this.closeDialog=new z}deleteBus(e){this.lineCreationService.deleteBus(e).subscribe();let i=this.dialogData.connections.findIndex(o=>o.id===e);i>-1&&this.dialogData.connections.splice(i,1)}};t.\u0275fac=function(i){return new(i||t)(b(ce))},t.\u0275cmp=k({type:t,selectors:[["bus-dialog"]],inputs:{dialogData:"dialogData"},outputs:{closeDialog:"closeDialog"},decls:5,vars:1,consts:[[1,"dialog-container"],[1,"dialog-content"],[1,"dialog-close-button",3,"click"],[4,"ngIf"],[1,"dialog-delete-button",3,"click"]],template:function(i,o){i&1&&(c(0,"div",0)(1,"div",1)(2,"button",2),f("click",function(){return o.close()}),m(3,"Close"),a(),x(4,wo,11,4,"div",3),a()()),i&2&&(h(4),_("ngIf",o.dialogData.selectedConnection))},dependencies:[U],styles:[".dialog-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:9999}.dialog-content[_ngcontent-%COMP%]{position:relative;background-color:#fff;border-radius:10px;box-shadow:0 4px 8px #0000001a;padding:30px;width:80%;height:80vh;margin:auto;text-align:left;animation:_ngcontent-%COMP%_slideIn .3s ease-out}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translateY(-20px);opacity:0}to{transform:translateY(0);opacity:1}}.dialog-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:24px;margin-bottom:20px;color:#333}.dialog-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:18px;margin-bottom:10px;color:#555}.dialog-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin-top:10px}.dialog-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:8px;font-size:16px;color:#666}.input-sidebar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:20px}.input-sidebar[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:45%;padding:10px;margin-bottom:10px;border:1px solid #ccc;border-radius:6px;font-size:16px;transition:border-color .3s ease}.input-sidebar[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]::placeholder{color:#aaa}.input-sidebar[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff}.input-sidebar[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus::placeholder{color:transparent}.dialog-delete-button[_ngcontent-%COMP%]{padding:12px 24px;border-radius:6px;cursor:pointer;background-color:#fff;border:2px solid #801D1A}.dialog-delete-button[_ngcontent-%COMP%]:hover{background-color:#e3a3a9}.dialog-delete-button[_ngcontent-%COMP%]:active{background-color:#801d1a;color:#fff}.input-sidebar[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:calc(50% - 20px);padding:10px;margin-bottom:10px;border:1px solid #ccc;border-radius:6px;font-size:16px;transition:border-color .3s ease}.sidebar-services-button[_ngcontent-%COMP%], .sidebar-button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none}.sidebar-services-button[_ngcontent-%COMP%], .sidebar-button[_ngcontent-%COMP%]{padding:12px 24px;border-radius:6px;cursor:pointer;transition:background-color .3s ease}.input-sidebar[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .sidebar-services-button[_ngcontent-%COMP%], .sidebar-button[_ngcontent-%COMP%]{padding:12px 20px;border-radius:6px;cursor:pointer;transition:background-color .3s ease}.sidebar-services-button[_ngcontent-%COMP%]:hover, .sidebar-button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.dialog-close-button[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;padding:12px 24px;border-radius:6px;cursor:pointer;background-color:#fff;border:2px solid #801D1A}.dialog-close-button[_ngcontent-%COMP%]:hover{background-color:#e3a3a9}.dialog-close-button[_ngcontent-%COMP%]:active{background-color:#801d1a;color:#fff}"]});let r=t;return r})();function xo(r,t){if(r&1){let n=y();c(0,"div",12),f("click",function(){let i=p(n).$implicit,o=d(2);return g(o.selectOption(i))}),m(1),a()}if(r&2){let n=t.$implicit;h(),N(" ",n.label," ")}}function So(r,t){if(r&1&&(c(0,"div",10),x(1,xo,2,1,"div",11),a()),r&2){let n=d();h(),_("ngForOf",n.options)}}var wn=(()=>{let t=class t{constructor(e){this.hardwareService=e,this.createHardwareData=null,this.selectedOption=null,this.showDropdown=!1,this.options=[{id:1,label:"ECU"},{id:2,label:"BUS"}],this.newHardwareName=null,this.newHardwareDescription=null}ngOnInit(){}close(){this.createHardwareData.showCreateHardwareDialog=!1}toggleDropdownType(){this.showDropdown=!this.showDropdown}selectOption(e){if(e.label==="ECU")this.showDropdown=!this.showDropdown,this.selectedOption=e;else if(e.label==="BUS")this.showDropdown=!this.showDropdown,this.selectedOption=e;else return}save(){if(this.selectedOption&&this.newHardwareName&&this.newHardwareDescription){let e={label:this.newHardwareName,type:this.selectedOption.label,description:this.newHardwareDescription,positionX:228,positionY:229,connectedTo:this.createHardwareData.ecus.length};this.hardwareService.createHardware(e,this.createHardwareData.selectedArchitecture.id),this.createHardwareData.showCreateHardwareDialog=!1}else console.log("All required feelds have to be filled!")}};t.\u0275fac=function(i){return new(i||t)(b(J))},t.\u0275cmp=k({type:t,selectors:[["create-hardware-dialog"]],inputs:{createHardwareData:"createHardwareData"},decls:24,vars:5,consts:[[1,"dialog-container"],[1,"dialog-content"],[1,"dialog-close-button",3,"click"],[1,"property"],["tabindex","0",1,"dropdown-container",3,"blur"],[1,"dropdown-display",3,"click"],["class","dropdown-menu",4,"ngIf"],["type","text","placeholder","ECU Name",1,"input-name",3,"ngModelChange","ngModel"],["type","text","placeholder","Description",1,"textarea-description",3,"ngModelChange","ngModel"],[1,"dialog-save-button",3,"click","disabled"],[1,"dropdown-menu"],["class","dropdown-item",3,"click",4,"ngFor","ngForOf"],[1,"dropdown-item",3,"click"]],template:function(i,o){i&1&&(c(0,"div",0)(1,"div",1)(2,"div")(3,"button",2),f("click",function(){return o.close()}),m(4,"Close"),a(),c(5,"h3"),m(6," Create Hardware"),a(),c(7,"div",3)(8,"h2"),m(9,"Type*: "),a(),c(10,"div",4),f("blur",function(){return o.showDropdown=!1}),c(11,"div",5),f("click",function(){return o.toggleDropdownType()}),m(12),a(),x(13,So,2,1,"div",6),a()(),c(14,"div",3)(15,"h2"),m(16,"Name*: "),a(),c(17,"input",7),M("ngModelChange",function(l){return E(o.newHardwareName,l)||(o.newHardwareName=l),l}),a()(),c(18,"div",3)(19,"h2"),m(20,"Description*: "),a(),c(21,"textarea",8),M("ngModelChange",function(l){return E(o.newHardwareDescription,l)||(o.newHardwareDescription=l),l}),a()()(),c(22,"button",9),f("click",function(){return o.save()}),m(23,"Save"),a()()()),i&2&&(h(12),N(" ",(o.selectedOption==null?null:o.selectedOption.label)||"Create"," "),h(),_("ngIf",o.showDropdown),h(4),D("ngModel",o.newHardwareName),h(4),D("ngModel",o.newHardwareDescription),h(),_("disabled",!1))},dependencies:[se,U,$,ee,X],styles:['@charset "UTF-8";.dialog-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:9999}.dialog-content[_ngcontent-%COMP%]{position:relative;background-color:#fff;border-radius:10px;box-shadow:0 4px 8px #0000001a;padding:30px;width:80%;height:80vh;margin:auto;text-align:left;animation:slideIn .3s ease-out}.dialog-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:24px;margin-bottom:20px;color:#333}.dialog-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:18px;margin-bottom:10px;color:#555}.property[_ngcontent-%COMP%]{display:grid;grid-template-columns:20% 80%;justify-content:flex-start;margin-bottom:20px}.input-name[_ngcontent-%COMP%]{width:60%;padding:10px;margin-bottom:10px;border:1px solid #ccc;border-radius:6px;font-size:16px;transition:border-color .3s ease}.input-name[_ngcontent-%COMP%]::placeholder, .textarea-description[_ngcontent-%COMP%]::placeholder{color:#aaa}.input-name[_ngcontent-%COMP%]:focus, .textarea-description[_ngcontent-%COMP%]:focus{outline:none;border-color:#009ba0}.input-name[_ngcontent-%COMP%]:focus::placeholder, .textarea-description[_ngcontent-%COMP%]::placeholder{color:transparent}.textarea-description[_ngcontent-%COMP%]{width:60%;height:400px;padding:10px;margin-bottom:10px;border:1px solid #ccc;border-radius:6px;font-size:16px;transition:border-color .3s ease}.dialog-close-button[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;padding:10px 20px;background-color:#fff;color:#252525;font-size:1rem;border-radius:5px;border:2px solid #801D1A;cursor:pointer;z-index:10}.dialog-close-button[_ngcontent-%COMP%]:hover{background-color:#e3a3a9;box-shadow:0 4px 8px #0003}.dialog-close-button[_ngcontent-%COMP%]:active{background-color:#801d1a;color:#fff}.dialog-save-button[_ngcontent-%COMP%]{position:absolute;bottom:10px;right:10px;padding:10px 20px;background-color:#fff;color:#252525;font-size:1rem;border-radius:5px;border:2px solid #009BA0;cursor:pointer;z-index:10}.dialog-save-button[_ngcontent-%COMP%]:hover{background-color:#cef8fa;box-shadow:0 4px 8px #0003}.dialog-save-button[_ngcontent-%COMP%]:active{background-color:#009ba0;color:#fff}.dialog-save-button[_ngcontent-%COMP%]:disabled{border:2px solid #801D1A}.dropdown-container[_ngcontent-%COMP%]{position:relative;border:2px solid transparent;width:200px;cursor:pointer;background-color:#fff}.dropdown-display[_ngcontent-%COMP%]{padding:10px;color:#252525;display:flex;align-items:center;justify-content:space-between}.dropdown-menu[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;right:0;background:#fff;border-top:none;z-index:1000;max-height:200px;overflow-y:auto;box-shadow:0 2px 4px #0000001a}.dropdown-item[_ngcontent-%COMP%]{padding:10px;border-bottom:1px solid #eee;cursor:pointer;border-bottom:1px solid #801D1A}.dropdown-item[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}.dropdown-display[_ngcontent-%COMP%]:after{content:"\\25bc";font-size:.8em;margin-left:5px}.dropdown-container[_ngcontent-%COMP%]:hover{border-bottom-color:#801d1a}.dropdown-container[_ngcontent-%COMP%]:focus{outline:none;border-bottom-color:#801d1a}']});let r=t;return r})();function Eo(r,t){if(r&1){let n=y();O(0),c(1,"h3",6),m(2),a(),c(3,"button",7),f("click",function(){p(n);let i=d(2);return g(i.editName())}),w(4,"i",8),a(),A()}if(r&2){let n=d(2);h(2),P(n.selectedArchitecture.name)}}function Mo(r,t){if(r&1){let n=y();O(0),c(1,"input",9),M("ngModelChange",function(i){p(n);let o=d(2);return E(o.selectedArchitecture.name,i)||(o.selectedArchitecture.name=i),g(i)}),a(),c(2,"div",10)(3,"button",7),f("click",function(){p(n);let i=d(2);return g(i.canselEditingName())}),w(4,"i",11),a(),c(5,"button",7),f("click",function(){p(n);let i=d(2);return g(i.saveName())}),w(6,"i",12),a()(),A()}if(r&2){let n=d(2);h(),D("ngModel",n.selectedArchitecture.name)}}function Io(r,t){if(r&1){let n=y();O(0),c(1,"h4",13),m(2,"Description:"),a(),c(3,"div",4)(4,"textarea",14),M("ngModelChange",function(i){p(n);let o=d(2);return E(o.selectedArchitecture.description,i)||(o.selectedArchitecture.description=i),g(i)}),m(5),a(),c(6,"div",10)(7,"button",7),f("click",function(){p(n);let i=d(2);return g(i.canselEditingDescription())}),w(8,"i",11),a(),c(9,"button",7),f("click",function(){p(n);let i=d(2);return g(i.saveDescription())}),w(10,"i",12),a()()(),A()}if(r&2){let n=d(2);h(4),D("ngModel",n.selectedArchitecture.description),h(),P(n.selectedArchitecture.description)}}function Po(r,t){if(r&1){let n=y();O(0),c(1,"div",4)(2,"h4",13),m(3,"Description:"),a(),c(4,"button",7),f("click",function(){p(n);let i=d(2);return g(i.editDescription())}),w(5,"i",8),a()(),c(6,"p",15),m(7),a(),A()}if(r&2){let n=d(2);h(7),P(n.selectedArchitecture.description)}}function Oo(r,t){if(r&1){let n=y();c(0,"div")(1,"div",4),x(2,Eo,5,1,"ng-container",3)(3,Mo,7,1,"ng-container",3),a(),c(4,"div"),x(5,Io,11,2,"ng-container",3)(6,Po,8,1,"ng-container",3),a(),c(7,"button",5),f("click",function(){p(n);let i=d();return g(i.delete())}),m(8,"Delete"),a()()}if(r&2){let n=d();h(2),_("ngIf",!n.nameEditMod),h(),_("ngIf",n.nameEditMod),h(2),_("ngIf",n.descriptionEditMod),h(),_("ngIf",!n.descriptionEditMod)}}var yn=(()=>{let t=class t{constructor(e){this.architectureService=e,this.architectureDetailsData=null,this.selectedArchitecture=null,this.architectures=null,this.nameEditMod=!1,this.descriptionEditMod=!1}subscribeOnSelectedArchitecture(){this.architectureService.selectedArchitecture$.subscribe({next:e=>{this.selectedArchitecture=e},error:e=>{console.error(e)}})}subscribeOnArchitectures(){this.architectureService.architectures$.subscribe({next:e=>{this.architectures=e},error:e=>{console.error(e)}})}ngOnInit(){this.subscribeOnSelectedArchitecture(),this.subscribeOnArchitectures()}close(){this.architectureDetailsData.showArchitectureDetails=!1}delete(){this.selectedArchitecture&&(this.architectureService.deleteArchitecture(this.selectedArchitecture.id),this.architectureDetailsData.showArchitectureDetails=!1)}editName(){this.nameEditMod=!0}canselEditingName(){this.nameEditMod=!1}saveName(){this.selectedArchitecture&&(this.architectureService.updateArchitecture(this.selectedArchitecture,BigInt(this.selectedArchitecture.id)),this.nameEditMod=!1)}editDescription(){this.descriptionEditMod=!0,setTimeout(()=>{this.autoResizeTextarea()},50)}autoResizeTextarea(){let e=document.getElementById("textarea-description");e&&(e.style.height=e.scrollHeight+"px")}saveDescription(){this.architectureService.updateArchitecture(this.selectedArchitecture,this.selectedArchitecture.id),this.descriptionEditMod=!1}canselEditingDescription(){this.descriptionEditMod=!1}};t.\u0275fac=function(i){return new(i||t)(b(W))},t.\u0275cmp=k({type:t,selectors:[["app-architecture-details-dialog"]],inputs:{architectureDetailsData:"architectureDetailsData"},decls:5,vars:1,consts:[[1,"dialog-container"],[1,"dialog-content"],[1,"dialog-close-button",3,"click"],[4,"ngIf"],[1,"horisontal-container"],[1,"dialog-delete-button",3,"click"],[1,"architecture-details-header"],[1,"manipulation-button",3,"click"],[1,"fas","fa-edit","fa-lg"],[1,"input-field",3,"ngModelChange","ngModel"],[1,"vertical-container"],[1,"fas","fa-times","fa-lg"],[1,"fas","fa-save","fa-lg"],[1,"description-header"],["id","textarea-description","type","text",1,"textarea-description",3,"ngModelChange","ngModel"],[1,"description"]],template:function(i,o){i&1&&(c(0,"div",0)(1,"div",1)(2,"button",2),f("click",function(){return o.close()}),m(3,"Close"),a(),x(4,Oo,9,4,"div",3),a()()),i&2&&(h(4),_("ngIf",o.architectureDetailsData.selectedArchitecture))},dependencies:[U,$,ee,X],styles:[".dialog-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:9999}.dialog-content[_ngcontent-%COMP%]{position:relative;background-color:#fff;border-radius:10px;box-shadow:0 4px 8px #0000001a;padding:30px;width:80%;height:80vh;margin:auto;text-align:left;animation:slideIn .3s ease-out}.dialog-delete-button[_ngcontent-%COMP%]{position:absolute;bottom:0;margin-bottom:10px;padding:10px 20px;border-radius:6px;cursor:pointer;background-color:#fff;border:2px solid #801D1A;font-size:1rem}.dialog-delete-button[_ngcontent-%COMP%]:hover{background-color:#e3a3a9;box-shadow:0 4px 8px #0003}.dialog-delete-button[_ngcontent-%COMP%]:active{background-color:#801d1a;color:#fff}.dialog-close-button[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;padding:10px 20px;background-color:#fff;color:#252525;font-size:1rem;border-radius:5px;border:2px solid #801D1A;cursor:pointer;z-index:10}.dialog-close-button[_ngcontent-%COMP%]:hover{background-color:#e3a3a9;box-shadow:0 4px 8px #0003}.dialog-close-button[_ngcontent-%COMP%]:active{background-color:#801d1a;color:#fff}.horisontal-container[_ngcontent-%COMP%]{display:flex;flex-direction:row}.vertical-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between}.architecture-details-header[_ngcontent-%COMP%]{font-size:2.5rem;margin-top:10px;margin-bottom:10px;color:#555}.description-header[_ngcontent-%COMP%]{font-size:1.5rem;margin-top:10px;margin-bottom:10px;color:#555}.manipulation-button[_ngcontent-%COMP%]{display:flex;justify-content:left;margin:0;padding:5px;background-color:transparent;border:0}.manipulation-button[_ngcontent-%COMP%]:hover{cursor:pointer}.manipulation-button[_ngcontent-%COMP%]:active{color:#009ba0}.input-field[_ngcontent-%COMP%]{padding:10px;border:1px solid #ccc;border-radius:6px;font-size:16px;transition:border-color .3s ease}.input-field[_ngcontent-%COMP%]::placeholder{color:#aaa}.input-field[_ngcontent-%COMP%]:focus{outline:none;border-color:#009ba0}.input-field[_ngcontent-%COMP%]:focus::placeholder{color:transparent}.textarea-description[_ngcontent-%COMP%]:focus{outline:none;border-color:#009ba0}.textarea-description[_ngcontent-%COMP%]::placeholder{color:transparent}.textarea-description[_ngcontent-%COMP%]{width:90%;height:auto;padding:10px;margin-right:10px;border:1px solid #ccc;border-radius:6px;font-size:1rem;transition:border-color .3s ease}.description[_ngcontent-%COMP%]{width:90%;height:auto;font-size:1rem;margin-right:10px;white-space:pre-line;word-break:break-word}"]});let r=t;return r})();var xn=(()=>{let t=class t{constructor(e){this.architectureService=e,this.createArchitectureData=null,this.newArchitectureName=null,this.newArchitectureDescription=null,this.architecture="new Architecture"}ngOnInit(){}close(){this.createArchitectureData.showCreateArchitectureDialog=!1}save(){if(this.newArchitectureName&&this.newArchitectureDescription){if(this.createArchitectureData.architectures){let e={name:this.newArchitectureName,type:"Architecture",description:this.newArchitectureDescription};this.architectureService.createArchitecture(e)}this.createArchitectureData.showCreateArchitectureDialog=!1}else console.log("All required feelds have to be filled!")}};t.\u0275fac=function(i){return new(i||t)(b(W))},t.\u0275cmp=k({type:t,selectors:[["app-create-architecture"]],inputs:{createArchitectureData:"createArchitectureData"},decls:17,vars:3,consts:[[1,"dialog-container"],[1,"dialog-content"],[1,"dialog-close-button",3,"click"],[1,"property"],["type","text","placeholder","ECU Name",1,"input-name",3,"ngModelChange","ngModel"],["type","text","placeholder","Description",1,"textarea-description",3,"ngModelChange","ngModel"],[1,"dialog-save-button",3,"click","disabled"]],template:function(i,o){i&1&&(c(0,"div",0)(1,"div",1)(2,"div")(3,"button",2),f("click",function(){return o.close()}),m(4,"Close"),a(),c(5,"h3"),m(6," Create Architecture"),a(),c(7,"div",3)(8,"h2"),m(9,"Name*: "),a(),c(10,"input",4),M("ngModelChange",function(l){return E(o.newArchitectureName,l)||(o.newArchitectureName=l),l}),a()(),c(11,"div",3)(12,"h2"),m(13,"Description*: "),a(),c(14,"textarea",5),M("ngModelChange",function(l){return E(o.newArchitectureDescription,l)||(o.newArchitectureDescription=l),l}),a()(),c(15,"button",6),f("click",function(){return o.save()}),m(16,"Save"),a()()()()),i&2&&(h(10),D("ngModel",o.newArchitectureName),h(4),D("ngModel",o.newArchitectureDescription),h(),_("disabled",!1))},dependencies:[$,ee,X],styles:['@charset "UTF-8";.dialog-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:9999}.dialog-content[_ngcontent-%COMP%]{position:relative;background-color:#fff;border-radius:10px;box-shadow:0 4px 8px #0000001a;padding:30px;width:80%;height:80vh;margin:auto;text-align:left;animation:slideIn .3s ease-out}.dialog-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:24px;margin-bottom:20px;color:#333}.dialog-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:18px;margin-bottom:10px;color:#555}.property[_ngcontent-%COMP%]{display:grid;grid-template-columns:20% 80%;justify-content:flex-start;margin-bottom:20px}.input-name[_ngcontent-%COMP%]{width:60%;padding:10px;margin-bottom:10px;border:1px solid #ccc;border-radius:6px;font-size:16px;transition:border-color .3s ease}.input-name[_ngcontent-%COMP%]::placeholder, .textarea-description[_ngcontent-%COMP%]::placeholder{color:#aaa}.input-name[_ngcontent-%COMP%]:focus, .textarea-description[_ngcontent-%COMP%]:focus{outline:none;border-color:#009ba0}.input-name[_ngcontent-%COMP%]:focus::placeholder, .textarea-description[_ngcontent-%COMP%]::placeholder{color:transparent}.textarea-description[_ngcontent-%COMP%]{width:60%;height:400px;padding:10px;margin-bottom:10px;border:1px solid #ccc;border-radius:6px;font-size:16px;transition:border-color .3s ease}.dialog-close-button[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;padding:10px 20px;background-color:#fff;color:#252525;font-size:1rem;border-radius:5px;border:2px solid #801D1A;cursor:pointer;z-index:10}.dialog-close-button[_ngcontent-%COMP%]:hover{background-color:#e3a3a9;box-shadow:0 4px 8px #0003}.dialog-close-button[_ngcontent-%COMP%]:active{background-color:#801d1a;color:#fff}.dialog-save-button[_ngcontent-%COMP%]{position:absolute;bottom:10px;right:10px;padding:10px 20px;background-color:#fff;color:#252525;font-size:1rem;border-radius:5px;border:2px solid #009BA0;cursor:pointer;z-index:10}.dialog-save-button[_ngcontent-%COMP%]:hover{background-color:#cef8fa;box-shadow:0 4px 8px #0003}.dialog-save-button[_ngcontent-%COMP%]:active{background-color:#009ba0;color:#fff}.dialog-save-button[_ngcontent-%COMP%]:disabled{border:2px solid #801D1A}.dropdown-container[_ngcontent-%COMP%]{position:relative;border:2px solid transparent;width:200px;cursor:pointer;background-color:#fff}.dropdown-display[_ngcontent-%COMP%]{padding:10px;color:#252525;display:flex;align-items:center;justify-content:space-between}.dropdown-menu[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;right:0;background:#fff;border-top:none;z-index:1000;max-height:200px;overflow-y:auto;box-shadow:0 2px 4px #0000001a}.dropdown-item[_ngcontent-%COMP%]{padding:10px;border-bottom:1px solid #eee;cursor:pointer;border-bottom:1px solid #801D1A}.dropdown-item[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}.dropdown-display[_ngcontent-%COMP%]:after{content:"\\25bc";font-size:.8em;margin-left:5px}.dropdown-container[_ngcontent-%COMP%]:hover{border-bottom-color:#801d1a}.dropdown-container[_ngcontent-%COMP%]:focus{outline:none;border-bottom-color:#801d1a}']});let r=t;return r})();function To(r,t){if(r&1){let n=y();c(0,"div",33),f("click",function(){let i=p(n).$implicit,o=d(3);return g(o.selectOptioWhatToCreate(i))}),m(1),a()}if(r&2){let n=t.$implicit;h(),N(" ",n.label," ")}}function Vo(r,t){if(r&1&&(c(0,"div",31),x(1,To,2,1,"div",32),a()),r&2){let n=d(2);h(),_("ngForOf",n.optionsDropdownCreate)}}function Fo(r,t){if(r&1){let n=y();c(0,"div",5),f("blur",function(){p(n);let i=d();return g(i.showDropdownCreate=!1)}),c(1,"div",6),f("click",function(){p(n);let i=d();return g(i.toggleDropdownCreate())}),m(2),a(),x(3,Vo,2,1,"div",7),a()}if(r&2){let n=d();h(2),N(" ","Create"," "),h(),_("ngIf",n.showDropdownCreate)}}function Ro(r,t){if(r&1){let n=y();c(0,"div",33),f("click",function(){let i=p(n).$implicit,o=d(2);return g(o.selectArchitecture(i))}),m(1),a()}if(r&2){let n=t.$implicit;h(),N(" ",n.name," ")}}function No(r,t){if(r&1&&(c(0,"div",31),x(1,Ro,2,1,"div",32),a()),r&2){let n=d();h(),_("ngForOf",n.architectures)}}function Lo(r,t){if(r&1&&(c(0,"div"),w(1,"img",34),a()),r&2){let n=d();h(),de("src",n.userImage,Xt)}}function jo(r,t){if(r&1&&(c(0,"div",35),m(1),Qt(2,"uppercase"),a()),r&2){let n=d();h(),P(n.userName?Jt(2,1,n.userName[0]):"U")}}function Bo(r,t){r&1&&(c(0,"div",36)(1,"p"),m(2,"Please, select an Architecture from the list above!"),a()())}function zo(r,t){if(r&1){let n=y();c(0,"div",37)(1,"button",38),f("click",function(){p(n);let i=d();return g(i.openArchitectureDetails())}),w(2,"i",39),a()()}}function Ho(r,t){if(r&1&&(O(0),c(1,"div",42)(2,"div",43),m(3),a(),c(4,"div",44),m(5),a()(),A()),r&2){let n=d().$implicit,e=d();h(3),P(n.label+"|"+n.id),h(2),N("",e.servicesCountMap.get(n.id)||0," Services")}}function Uo(r,t){if(r&1&&(O(0),c(1,"div",45),m(2),a(),w(3,"div",46),A()),r&2){let n=d().$implicit;h(2),P(n.label+"|"+n.id)}}function Wo(r,t){if(r&1){let n=y();c(0,"div",40),f("cdkDragEnded",function(i){let o=p(n).$implicit,s=d();return g(s.setElementPosition(i,o))})("cdkDragMoved",function(i){let o=p(n).$implicit,s=d();return g(s.rewriteLine(i,o))})("dblclick",function(){let i=p(n).$implicit,o=d();return g(o.openHarwareDetailsDialog(i))})("click",function(i){let o=p(n).$implicit,s=d();return g(s.onEcuClick(o,i))}),x(1,Ho,6,2,"ng-container",41)(2,Uo,4,1,"ng-container",41),a()}if(r&2){let n=t.$implicit;le("transform","translateX("+n.positionX+"px) translateY("+n.positionY+"px)"),oe("ecuId",n.id),h(),_("ngIf",n.type=="ECU"),h(),_("ngIf",n.type=="BUS")}}function $o(r,t){if(r&1){let n=y();me(),c(0,"line",47),f("dblclick",function(){let i=p(n).$implicit,o=d();return g(o.openHardwareConnectionDetailsDialog(i))}),a()}if(r&2){let n=t.$implicit;oe("x1",n.positionFromX)("y1",n.positionFromY)("x2",n.positionToX)("y2",n.positionToY)("connectedFrom",n.connectedFrom)("connectedTo",n.connectedTo)("id","connection_"+n.id)}}function Go(r,t){if(r&1){let n=y();me(),c(0,"line",48),f("dblclick",function(){let i=p(n).$implicit,o=d();return g(o.openHardwareConnectionDetailsDialog(i))}),a()}if(r&2){let n=t.$implicit;oe("x1",n.positionFromX)("y1",n.positionFromY)("x2",n.positionToX)("y2",n.positionToY)("connectedFrom",n.connectedFrom)("connectedTo",n.connectedTo)("id","connection_overlay_"+n.id)}}function Yo(r,t){if(r&1&&w(0,"app-create-architecture",49),r&2){let n=d();_("createArchitectureData",n.dialogData)}}function Ko(r,t){if(r&1&&w(0,"app-architecture-details-dialog",50),r&2){let n=d();_("architectureDetailsData",n.dialogData)}}function Zo(r,t){if(r&1){let n=y();c(0,"ecu-dialog",51),f("closeDialog",function(){p(n);let i=d();return g(i.closeHarwareDetailsDialog())}),a()}if(r&2){let n=d();_("dialogData",n.dialogData)}}function Xo(r,t){if(r&1){let n=y();c(0,"bus-dialog",51),f("closeDialog",function(){p(n);let i=d();return g(i.onCloseBusDialog())}),a()}if(r&2){let n=d();_("dialogData",n.dialogData)}}function qo(r,t){if(r&1&&w(0,"create-hardware-dialog",52),r&2){let n=d();_("createHardwareData",n.dialogData)}}var Sn=(()=>{let t=class t{openHarwareDetailsDialog(e){this.updateCurrentState(),this.hardwareService.setSelectedHardware(e),this.showHardwareDetailsDialogContent=!0,this.hardwarePropertyService.loadAllHardwareProperties(e.id)}closeHarwareDetailsDialog(){this.hardwareService.setSelectedHardware(null),this.showHardwareDetailsDialogContent=!1}openHardwareConnectionDetailsDialog(e){this.updateCurrentState(),this.selectedConnection=e,this.showBusDialog=!0}onCloseBusDialog(){this.showBusDialog=!1}constructor(e,i,o,s,l,u,v,C){this.serviceService=e,this.hardwarePropertyService=i,this.architectureService=o,this.mainInternalService=s,this.hardwareService=l,this.lineCreationService=u,this.renderer=v,this.elementRef=C,this.showBusDialog=!1,this.dialogData=this,this.showHardwareDetailsDialogContent=!1,this.selectedConnection=null,this.connections=[],this.ECUwidth=154,this.ECUheight=104,this.ecus=[],this.isSidebarOpen=!1,this.servisecOfSelectedEcu=null,this.selectedEcu=null,this.zoomLevel=1,this.creatingLine=!1,this.architectures=null,this.selectedArchitecture=null,this.hardwareProperties=null,this.servicesMap=new Map,this.servicesCountMap=new Map,this.dataStreams=[],this.graph={},this.showDropdownCreate=!1,this.showDropdownSelectArchitecture=!1,this.showArchitectureDetails=!1,this.startEcu=null,this.endEcu=null,this.creatingBusModus=!1,this.optionsDropdownCreate=[{id:1,label:"new Hardware"},{id:3,label:"new Connection"},{id:4,label:"new Architecture"}],this.showCreateHardwareDialog=!1,this.showCreateArchitectureDialog=!1,this.userImage=null,this.userName="John Doe",this.creatingNewLine=!1}setElementPosition(e,i){let o=e.source.getRootElement(),s=o.getBoundingClientRect(),l=this.getElementPosition(o.parentElement);i.positionX=s.x-l.left,i.positionY=s.y-l.top}getElementPosition(e){let i=e.getBoundingClientRect(),o=window.scrollY||document.documentElement.scrollTop||document.body.scrollTop||0,s=window.scrollX||document.documentElement.scrollLeft||document.body.scrollLeft||0;return{top:i.top+o,left:i.left+s}}rewriteLine(e,i){if(this.setElementPosition(e,i),i.type=="BUS"){var o=document.querySelector(".cdk-drag-dragging").getBoundingClientRect(),s=0;for(let C=0;C<this.connections.length;C++)(this.connections[C].connectedFrom==i.id.toString()||this.connections[C].connectedTo==i.id.toString())&&s++;var l=0;s>1&&(l=Number(o.width)/(s-1));var u=0;for(let C=0;C<this.connections.length;C++)(this.connections[C].connectedFrom==i.id.toString()||this.connections[C].connectedTo==i.id.toString())&&(this.connections[C].connectedTo==i.id.toString()?(this.connections[C].positionToX=(i.positionX+l*u).toString(),this.connections[C].positionToY=(i.positionY+3+25).toString()):(this.connections[C].positionFromX=(i.positionX+l*u).toString(),this.connections[C].positionFromY=(i.positionY+3+25).toString()),u++)}else for(let v=0;v<this.connections.length;v++)this.connections[v].connectedFrom==i.id.toString()?(this.connections[v].positionFromX=(i.positionX+this.ECUwidth/2).toString(),this.connections[v].positionFromY=(i.positionY+this.ECUheight/2).toString()):this.connections[v].connectedTo==i.id.toString()&&(this.connections[v].positionToX=(i.positionX+this.ECUwidth/2).toString(),this.connections[v].positionToY=(i.positionY+this.ECUheight/2).toString())}zoomIn(){this.zoomLevel+=.1,console.log(this.dataStreams)}zoomOut(){this.zoomLevel-=.1}subscribeOnSelectedHardware(){this.hardwareService.selectedHardware$.subscribe({next:e=>{this.selectedEcu=e},error:e=>{console.error(e)}})}subscribeOnHardwares(){this.hardwareService.hardwares$.subscribe({next:e=>{this.ecus=e},error:e=>{console.error(e)}})}subscribeOnArchitectures(){this.architectureService.architectures$.subscribe({next:e=>{this.architectures=e},error:e=>{console.error(e)}})}subscribeOnSelectedArchitecture(){this.architectureService.selectedArchitecture$.subscribe({next:e=>{this.selectedArchitecture=e,this.selectedArchitecture&&this.lineCreationService.getAllDataStreams(this.selectedArchitecture.id).subscribe(i=>{this.lineCreationService.setDataStreams(i)}),e&&this.hardwareService.loadAllHardwares(e.id).subscribe(i=>{this.serviceService.getAllServices(i)})},error:e=>{console.error(e)}})}subscribeOnHardwareProperties(){this.hardwarePropertyService.hardwareProreries$.subscribe({next:e=>{this.hardwareProperties=e},error:e=>{console.error(e)}})}subscribeOnServices(){this.serviceService.allServicesInArchitectureMap$.subscribe({next:e=>{this.servicesMap=e},error:e=>{console.error(e)}})}subscribeOnServicesCount(){this.serviceService.allServicesInArchitectureCountMap$.subscribe({next:e=>{this.servicesCountMap=e},error:e=>{console.error(e)}})}subscribeOnDataStreams(){this.lineCreationService.dataStreams$.subscribe({next:e=>{this.dataStreams=e},error:e=>{console.error(e)}})}ngOnInit(){this.subscribeOnArchitectures(),this.architectureService.loadAllArchitectures(),this.subscribeOnSelectedHardware(),this.subscribeOnHardwares(),this.subscribeOnDataStreams(),this.subscribeOnSelectedArchitecture(),this.subscribeOnHardwareProperties(),this.subscribeOnServicesCount(),this.subscribeOnServices()}getAllBus(e){this.lineCreationService.getAllBus(e).subscribe(i=>{this.connections=i})}initializeGraph(e){this.graph={},e.forEach(i=>{this.graph[i.connectedFrom]||(this.graph[i.connectedFrom]=[]),this.graph[i.connectedTo]||(this.graph[i.connectedTo]=[]),this.graph[i.connectedFrom].push(i.connectedTo),this.graph[i.connectedTo].push(i.connectedFrom),i.twoWayConnection&&(this.graph[i.connectedTo].push(i.connectedFrom),this.graph[i.connectedFrom].push(i.connectedTo))})}canReach(e,i){if(e===i)return!1;let o=new Set,s=[e];for(;s.length>0;){let l=s.shift();if(l!==void 0){if(l===i)return!0;if(o.add(l),this.graph[l])for(let u of this.graph[l])o.has(u)||s.push(u)}}return!1}updateBus(e,i){this.lineCreationService.updateBus(e,i).subscribe()}updateEcu(e,i){this.hardwareService.updateHardware(e,i)}updateCurrentState(){for(let e=0;e<this.connections.length;++e)this.updateBus(this.connections[e],this.connections[e].id);for(let e=0;e<this.ecus.length;++e)this.updateEcu(this.ecus[e],this.ecus[e].id)}toggleDropdownCreate(){this.showDropdownCreate=!this.showDropdownCreate}toggleDropdownSelectArchitecture(){this.showDropdownSelectArchitecture=!this.showDropdownSelectArchitecture}selectArchitecture(e){this.updateCurrentState(),this.architectureService.setSelectedArchitecture(e);let i=document.getElementById("svg-container");if(!i)return;i.querySelectorAll("line").forEach(s=>{i.removeChild(s)}),this.getAllBus(e.id),this.showDropdownSelectArchitecture=!1}openArchitectureDetails(){this.showArchitectureDetails=!0,console.log(this.selectedArchitecture)}onEcuClick(e,i){if(this.creatingBusModus){if(!this.startEcu)this.startTargetEcuElementNewBus=i.target,this.renderer.addClass(this.startTargetEcuElementNewBus,"selected"),this.startEcu=e,this.startEcu.type=="BUS"&&(this.busWidthStart=i.target);else if(!this.endEcu){if(this.endTargetEcuElementNewBus=i.target,this.renderer.addClass(this.endTargetEcuElementNewBus,"selected"),this.endEcu=e,this.endEcu.type=="BUS"&&(this.busWidthEnd=i.target),this.startEcu!==this.endEcu)if(this.startEcu.type=="BUS"){var o=0;if(this.startEcu)for(let u=0;u<this.connections.length;u++)(this.connections[u].connectedFrom==this.startEcu.id.toString()||this.connections[u].connectedTo==this.startEcu.id.toString())&&o++;var s=0;if(o>=1?s=Number(this.busWidthStart.offsetWidth)/o:s=0,o=0,this.startEcu)for(let u=0;u<this.connections.length;u++)(this.connections[u].connectedFrom==this.startEcu.id.toString()||this.connections[u].connectedTo==this.startEcu.id.toString())&&(this.connections[u].connectedFrom==this.startEcu.id.toString()?this.connections[u].positionFromX=(this.startEcu.positionX+s*o).toString():this.connections[u].positionToX=(this.startEcu.positionX+s*o).toString(),o++);let l={name:"Connection "+(this.connections.length+1),type:"Connection",description:"default description",positionFromX:(this.startEcu.positionX+s*o).toString(),positionFromY:(this.startEcu.positionY+3+25).toString(),positionToX:(this.endEcu.positionX+this.ECUwidth/2).toString(),positionToY:(this.endEcu.positionY+this.ECUheight/2).toString(),connectedFrom:this.startEcu.id.toString(),connectedTo:this.endEcu.id.toString(),twoWayConnection:!1};this.selectedArchitecture&&this.lineCreationService.createBus(this.selectedArchitecture.id,l).subscribe(u=>{this.connections[this.connections.length]=u}),console.log("New line created:",l)}else if(this.endEcu.type=="BUS"){console.log("end = bus");var o=0;if(this.endEcu)for(let C=0;C<this.connections.length;C++)(this.connections[C].connectedFrom==this.endEcu.id.toString()||this.connections[C].connectedTo==this.endEcu.id.toString())&&o++;var s=0;if(o>=1)var s=Number(this.busWidthEnd.offsetWidth)/o;else s=0;if(o=0,this.endEcu)for(let C=0;C<this.connections.length;C++)(this.connections[C].connectedFrom==this.endEcu.id.toString()||this.connections[C].connectedTo==this.endEcu.id.toString())&&(this.connections[C].connectedTo==this.endEcu.id.toString()?this.connections[C].positionToX=(this.endEcu.positionX+s*o).toString():this.connections[C].positionFromX=(this.endEcu.positionX+s*o).toString(),o++);let v={name:"Bus "+(this.connections.length+1),type:"Bus",description:"default description",positionFromX:(this.startEcu.positionX+this.ECUwidth/2).toString(),positionFromY:(this.startEcu.positionY+this.ECUheight/2).toString(),positionToX:(this.endEcu.positionX+s*o).toString(),positionToY:(this.endEcu.positionY+3+25).toString(),connectedFrom:this.startEcu.id.toString(),connectedTo:this.endEcu.id.toString(),twoWayConnection:!1};this.selectedArchitecture&&this.lineCreationService.createBus(this.selectedArchitecture.id,v).subscribe(C=>{this.connections[this.connections.length]=C}),console.log("New line created:",v)}else console.log("ECU has to be connected with BUS or CAN");else console.log("Start and end ECUs cannot be the same");this.startEcu=null,this.endEcu=null,this.creatingBusModus=!1,setTimeout(()=>{this.renderer.removeClass(this.startTargetEcuElementNewBus,"selected"),this.renderer.removeClass(this.endTargetEcuElementNewBus,"selected")},1e3)}}else console.log("default ecu click")}selectOptioWhatToCreate(e){this.updateCurrentState(),e.label==="new Hardware"?this.showCreateHardwareDialog=!0:e.label==="new Connection"?this.creatingBusModus=!0:e.label==="new Architecture"&&(this.showCreateArchitectureDialog=!0),this.showDropdownCreate=!1}};t.\u0275fac=function(i){return new(i||t)(b(ue),b(rt),b(W),b(Gi),b(J),b(ce),b(ge),b(re))},t.\u0275cmp=k({type:t,selectors:[["app-main-screen"]],decls:39,vars:19,consts:[["defaultLogo",""],[1,"header"],[1,"header-left"],["src","../../../../assets/images/logo-autotechagil-rgb.png","alt","Logo",1,"logo"],["class","dropdown-container","tabindex","0",3,"blur",4,"ngIf"],["tabindex","0",1,"dropdown-container",3,"blur"],[1,"dropdown-display",3,"click"],["class","dropdown-menu",4,"ngIf"],[1,"search-box"],["type","text","placeholder","Search",1,"search-field"],[1,"fas","fa-search","magnifier-icon"],[1,"header-right"],[1,"generate-button"],[4,"ngIf","ngIfElse"],[1,"main-screen"],[1,"horisontal-wrapper"],["class","start-screen",4,"ngIf"],[1,"zoom-buttons-wrapper"],[1,"zoomButton",3,"click"],["class","architecture-details-button-wrapper",4,"ngIf"],[1,"drag-boundary"],["cdkDrag","","cdkDragBoundary",".drag-boundary","class","draggable-item",3,"transform","cdkDragEnded","cdkDragMoved","dblclick","click",4,"ngFor","ngForOf"],["id","svg-container",1,"connestion-line-container"],["class","connestion-line",3,"dblclick",4,"ngFor","ngForOf"],["class","connestion-line-overlay",3,"dblclick",4,"ngFor","ngForOf"],[3,"createArchitectureData",4,"ngIf"],[3,"architectureDetailsData",4,"ngIf"],[3,"dialogData","closeDialog",4,"ngIf"],[3,"createHardwareData",4,"ngIf"],[1,"footer"],[1,"footer-content"],[1,"dropdown-menu"],["class","dropdown-item",3,"click",4,"ngFor","ngForOf"],[1,"dropdown-item",3,"click"],["alt","User",1,"user-image",3,"src"],[1,"user-logo"],[1,"start-screen"],[1,"architecture-details-button-wrapper"],[1,"architecture-details-button",3,"click"],[1,"fas","fa-cog","fa-2xl"],["cdkDrag","","cdkDragBoundary",".drag-boundary",1,"draggable-item",3,"cdkDragEnded","cdkDragMoved","dblclick","click"],[4,"ngIf"],[1,"ecu"],[1,"label-draggable-item"],[1,"content-draggable-item"],[1,"label-bus"],[1,"bus"],[1,"connestion-line",3,"dblclick"],[1,"connestion-line-overlay",3,"dblclick"],[3,"createArchitectureData"],[3,"architectureDetailsData"],[3,"closeDialog","dialogData"],[3,"createHardwareData"]],template:function(i,o){if(i&1){let s=y();c(0,"header",1)(1,"div",2),w(2,"img",3),x(3,Fo,4,2,"div",4),c(4,"div",5),f("blur",function(){return p(s),g(o.showDropdownSelectArchitecture=!1)}),c(5,"div",6),f("click",function(){return p(s),g(o.toggleDropdownSelectArchitecture())}),m(6),a(),x(7,No,2,1,"div",7),a(),c(8,"div",8),w(9,"input",9)(10,"i",10),a()(),c(11,"div",11)(12,"button",12),m(13,"Generate"),a(),x(14,Lo,2,1,"div",13)(15,jo,3,3,"ng-template",null,0,ei),a()(),c(17,"div",14)(18,"div",15),x(19,Bo,3,0,"div",16),c(20,"div",17)(21,"button",18),f("click",function(){return p(s),g(o.zoomIn())}),m(22,"+"),a(),c(23,"button",18),f("click",function(){return p(s),g(o.zoomOut())}),m(24,"-"),a()(),x(25,zo,3,0,"div",19),c(26,"div",20),x(27,Wo,3,5,"div",21),a(),me(),c(28,"svg",22),x(29,$o,1,7,"line",23)(30,Go,1,7,"line",24),a(),x(31,Yo,1,1,"app-create-architecture",25)(32,Ko,1,1,"app-architecture-details-dialog",26)(33,Zo,1,1,"ecu-dialog",27)(34,Xo,1,1,"bus-dialog",27)(35,qo,1,1,"create-hardware-dialog",28),a()(),Yt(),c(36,"footer",29)(37,"div",30),m(38," \xA9 2023 AUTOtech.agil "),a()()}if(i&2){let s=qt(16);h(3),_("ngIf",(o.selectedArchitecture==null?null:o.selectedArchitecture.id)!==0),h(3),N(" ",(o.selectedArchitecture==null?null:o.selectedArchitecture.name)||"Select Architecture"," "),h(),_("ngIf",o.showDropdownSelectArchitecture),h(7),_("ngIf",o.userImage)("ngIfElse",s),h(5),_("ngIf",(o.selectedArchitecture==null?null:o.selectedArchitecture.id)===0),h(6),_("ngIf",(o.selectedArchitecture==null?null:o.selectedArchitecture.id)!==0),h(),le("zoom",o.zoomLevel),h(),_("ngForOf",o.ecus),h(),le("zoom",o.zoomLevel),h(),_("ngForOf",o.connections),h(),_("ngForOf",o.connections),h(),_("ngIf",o.showCreateArchitectureDialog),h(),_("ngIf",o.showArchitectureDetails),h(),_("ngIf",o.selectedEcu),h(),_("ngIf",o.showBusDialog),h(),_("ngIf",o.showCreateHardwareDialog)}},dependencies:[se,U,nt,bn,Cn,wn,yn,xn,oi],styles:['@charset "UTF-8";.main-screen[_ngcontent-%COMP%]{height:calc(89% - 2px);background-color:#f5f5f5;display:flex;box-sizing:border-box;position:relative}.start-screen[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}.horisontal-wrapper[_ngcontent-%COMP%]{display:flex;flex:1;width:100%;height:100%}.drag-boundary[_ngcontent-%COMP%]{width:100%;height:100%}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:5px;box-shadow:0 5px 5px #0003}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.draggable-item[_ngcontent-%COMP%]{position:absolute;z-index:2}.draggable-item[_ngcontent-%COMP%]   .ecu[_ngcontent-%COMP%]{width:150px;height:75px;background-color:transparent;cursor:pointer;display:flex;flex-direction:column;align-items:flex-start;overflow:hidden;transition:transform .25s cubic-bezier(0,0,.2,1)}.draggable-item[_ngcontent-%COMP%]   .ecu[_ngcontent-%COMP%]   .label-draggable-item[_ngcontent-%COMP%]{width:100%;height:20px;font-weight:700;margin-bottom:5px;font-size:1rem;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.draggable-item[_ngcontent-%COMP%]   .ecu[_ngcontent-%COMP%]   .content-draggable-item[_ngcontent-%COMP%]{background-color:#fff;border:2px solid #ccc;width:100%;height:100%;text-align:center;box-sizing:border-box;display:flex;justify-content:center;align-items:center}.draggable-item[_ngcontent-%COMP%]   .label-bus[_ngcontent-%COMP%]{height:20px;font-weight:700;margin-bottom:5px;font-size:18px}.draggable-item[_ngcontent-%COMP%]   .bus[_ngcontent-%COMP%]{cursor:pointer;height:6px;width:600px;background-color:#009ba0}.connestion-line-container[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;z-index:1}.connestion-line[_ngcontent-%COMP%]{stroke:#009ba0;stroke-width:2;overlay:20px}.connestion-line[_ngcontent-%COMP%]:hover{cursor:pointer}.connestion-line-overlay[_ngcontent-%COMP%]{stroke-width:20px;stroke:transparent}.connestion-line-overlay[_ngcontent-%COMP%]:hover{cursor:pointer}.architecture-details-button-wrapper[_ngcontent-%COMP%]{position:absolute;margin-left:auto;right:10px;z-index:5}.architecture-details-button[_ngcontent-%COMP%]{margin:15px 0 0;background-color:transparent;border:0}.architecture-details-button[_ngcontent-%COMP%]:hover{cursor:pointer}.architecture-details-button[_ngcontent-%COMP%]:active{color:#009ba0}.zoom-buttons-wrapper[_ngcontent-%COMP%]{position:absolute;display:flex;flex-direction:column;z-index:5}.zoomButton[_ngcontent-%COMP%]{width:30px;margin-left:10px;margin-top:10px;padding:5px;background-color:#fff;color:#252525;font-size:1rem;border-radius:5px;border:2px solid #009BA0;cursor:pointer}.header[_ngcontent-%COMP%]{height:7%;display:flex;justify-content:space-between;align-items:center;border-bottom:2px solid #801D1A;background-color:#fff;z-index:1000}.logo[_ngcontent-%COMP%], .user-logo[_ngcontent-%COMP%]{height:50px;margin-right:20px}.user-image[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;object-fit:cover}.user-logo[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;border:2px solid #801D1A;background-color:#fff;color:#252525;display:flex;justify-content:center;align-items:center;font-size:20px}.dropdown-container[_ngcontent-%COMP%]{position:relative;border:2px solid transparent;width:200px;cursor:pointer;background-color:#fff}.dropdown-display[_ngcontent-%COMP%]{padding:10px;color:#252525;display:flex;align-items:center;justify-content:space-between}.dropdown-menu[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;right:0;background:#fff;border-top:none;z-index:1000;max-height:200px;overflow-y:auto;box-shadow:0 2px 4px #0000001a}.dropdown-item[_ngcontent-%COMP%]{padding:10px;border-bottom:1px solid #eee;cursor:pointer;border-bottom:1px solid #801D1A}.dropdown-item[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}.dropdown-display[_ngcontent-%COMP%]:after{content:"\\25bc";font-size:.8em;margin-left:5px}.dropdown-container[_ngcontent-%COMP%]:hover, .search-field[_ngcontent-%COMP%]:hover{border-bottom-color:#801d1a}.dropdown-container[_ngcontent-%COMP%]:focus, .search-field[_ngcontent-%COMP%]:focus{outline:none;border-bottom-color:#801d1a}.generate-button[_ngcontent-%COMP%]{margin-right:10px;padding:10px 20px;background-color:#fff;color:#252525;font-size:1rem;border-radius:5px;border:2px solid #009BA0;cursor:pointer}.generate-button[_ngcontent-%COMP%]:hover{background-color:#cef8fa;box-shadow:0 4px 8px #0003}.generate-button[_ngcontent-%COMP%]:active{background-color:#009ba0;color:#fff}.search-box[_ngcontent-%COMP%]{position:relative}.search-field[_ngcontent-%COMP%]{margin-right:10px;padding:10px;border:2px solid transparent;color:#252525;font-size:1rem}.magnifier-icon[_ngcontent-%COMP%]{position:absolute;right:10px;top:50%;padding-right:10px;transform:translateY(-50%);color:#252525;font-size:1rem}.selected[_ngcontent-%COMP%]{background-color:green!important}.header-left[_ngcontent-%COMP%], .header-right[_ngcontent-%COMP%]{display:flex;align-items:center}.footer[_ngcontent-%COMP%]{height:4%;background:linear-gradient(to right,#131322,#4f5259);color:#fff;text-align:left;align-content:center;bottom:0;left:0;right:0;min-width:100%;z-index:1000}.footer-content[_ngcontent-%COMP%]{margin-left:20px;font-size:.7rem}']});let r=t;return r})();var lt=(()=>{let t=class t{constructor(){this.title="frontend"}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=k({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(i,o){i&1&&w(0,"app-main-screen")(1,"app-footer")},dependencies:[Wi,Sn]});let r=t;return r})();var Dn=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=K({type:t,bootstrap:[lt]}),t.\u0275inj=Y({providers:[hi(),ai(ci())],imports:[di,Ui,zi,un,li]});let r=t;return r})();var Jo=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=K({type:t,bootstrap:[lt]}),t.\u0275inj=Y({imports:[Dn,ui]});let r=t;return r})();export{Jo as a};
